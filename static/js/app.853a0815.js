(function(e){function t(t){for(var s,a,r=t[0],l=t[1],u=t[2],m=0,d=[];m<r.length;m++)a=r[m],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},i={app:0},o=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07ae":function(e,t,n){},"07c0":function(e,t,n){},1707:function(e,t,n){},"1e68":function(e,t,n){"use strict";n("1707")},2105:function(e,t,n){"use strict";n("8bab")},"358b":function(e,t,n){},"377c":function(e,t,n){"use strict";n("ee19")},"49de":function(e,t,n){"use strict";n("7499")},"4faa":function(e,t,n){"use strict";n("af1b")},5388:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"gameshow"}},[n("language-selector",{attrs:{consent:e.consent},on:{"set-lang":e.switchLanguage}}),n("cookie-consent",{attrs:{lang:e.lang},on:{consent:e.got_consent}}),n("div",{staticClass:"mainWindow"},[n("div",{staticClass:"sidebar"},[""!=e.nickname&&""!=e.lobby?[n("transition",{attrs:{name:"transition",mode:"out-in",appear:""}},[n("div",{key:"question",staticClass:"compWindow",staticStyle:{"text-align":"center"}},[n("span",[e._v(e._s(e.lang["Question"])+" "+e._s(e.current_question.id))]),n("lobby-open-checkbox",{attrs:{lang:e.lang,admin:e.nickname==e.admin,lobby_id:e.lobby,sync_params:e.lobby_menu_params,selected_window:e.selectedWindow}}),e.nickname==e.admin?n("next-button",{attrs:{lang:e.lang,lobby_id:e.lobby,selected_window:e.selectedWindow}}):e._e()],1)]),n("transition",{attrs:{name:"transition",mode:"out-in",appear:""}},[n("player-list",{key:"player-list",attrs:{lang:e.lang,players:e.players,self:e.nickname,admin:e.admin,lobby_id:e.lobby,question_type:e.current_question.type},on:{"admin-leaves":e.admin_left}})],1)]:e._e()],2),n("div",{staticClass:"mainStage"},[n("transition",{attrs:{name:"transition",mode:"out-in",appear:""}},["loading"==e.selectedWindow?[n("div",{key:"loading",staticClass:"compWindow"},[e._v(" "+e._s(e.lang["Loading"])+".. ")])]:"login-window"==e.selectedWindow?[n("login-window",{key:"login-window",attrs:{lang:e.lang},on:{"set-name":e.set_name}})]:"lobby-selection"==e.selectedWindow?[n("lobby-selection",{key:"lobby-selection",attrs:{lang:e.lang,join_errors:e.lobby_selection_params},on:{"create-lobby":e.create_lobby,"join-lobby":e.join_lobby}})]:"lobby-menu"==e.selectedWindow?[n("lobby-menu",{key:"lobby-menu",attrs:{lang:e.lang,admin:e.nickname==e.admin,lobby_id:e.lobby,question_sets:e.question_sets,sync_params:e.lobby_menu_params},on:{"start-game":e.start_game}})]:"question-category-betting"==e.selectedWindow?[n("question-category-betting",{key:"question-category-betting",attrs:{lang:e.lang,watch_only:e.watch_only,question:e.current_question,max_bet:e.money},on:{"bet-money":e.bet_money}})]:"question-vs-attacker"==e.selectedWindow?[n("question-vs-attacker",{key:"question-vs-attacker",attrs:{lang:e.lang,watch_only:e.watch_only,question:e.current_question,players:e.players,self:e.nickname},on:{"attack-player":e.attack_player}})]:"question-asker"==e.selectedWindow?[n("question-asker",{key:"question-asker",attrs:{lang:e.lang,watch_only:e.watch_only,question:e.current_question,"joker-available":e.jokers>0},on:{joker:e.get_joker,answered:e.select_answer}})]:"question-estimator"==e.selectedWindow?[n("question-estimator",{key:"question-estimator",attrs:{lang:e.lang,watch_only:e.watch_only,question:e.current_question},on:{answered:e.select_answer}})]:"result-display"==e.selectedWindow?[n("result-display",{key:"result-display",attrs:{lang:e.lang,question:e.current_question,"players-prev":e.results_players_prev,"players-new":e.results_players_new,self:e.nickname}})]:"game-end-screen"==e.selectedWindow?[n("game-end-screen",{key:"game-end-screen",attrs:{lang:e.lang,players:e.results_players_new,self:e.nickname}})]:[n("div",{key:"waiting",staticClass:"compWindow",attrs:{id:"waiting-window"}},[e._v(" "+e._s(e.lang["Waiting for players and server.."])+" ")])]],2)],1)])],1)},o=[],a={getCookie:function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var s=t[n].split("=");if(e==s[0].trim())return decodeURIComponent(s[1])}return null},extract_lobby_id:function(){let e=window.location.href,t=e.indexOf("#");return-1==t?"":e.substr(t+1)}},r={name:"lang",en:{Accept:"Accept","This site uses (only functional) cookies!":"This site uses (only functional) cookies!",Question:"Question","Waiting for players and server..":"Waiting for players and server..",Name:"Name",Submit:"Submit","Name must not be empty!":"Name must not be empty!",Loading:"Loading","Connection to server failed!":"Connection to server failed!","Lobby ID":"Lobby ID","Create lobby":"Create lobby",Join:"Join","Lobby ID must not be empty!":"Lobby ID must not be empty!","Join lobby":"Join lobby","Lobby ID was not found!":"Lobby ID was not found!","Lobby open for new players":"Lobby open for new players","Lobby open":"Lobby open","Admin also plays":"Admin also plays","Start game":"Start game","Invite link":"Invite link","Initial money":"Initial money",Jokers:"Jokers","Normal question reward":"Normal question reward","Estimation question reward":"Estimation question reward",Copy:"Copy","Question set":"Question set","Select one":"Select one",Custom:"Custom","Download example":"Download example file","Select file":"Select file","File is too large!":"File is too large!","Questions uploaded!":"Questions uploaded!","Invalid JSON!":"Invalid JSON!","Upload error!":"Upload error!","Load questions before you start the game!":"Load questions before you start the game!","Game settings out of sync, please wait!":"Game settings out of sync, please wait!","Lobby is closed!":"Lobby is closed!",Players:"Players",None:"None","Edit player":"Edit player",Money:"Money",Save:"Save",Kick:"Kick","If you answer wrongly, you pay the bet money, otherwise you get the bet money!":"If you answer wrongly, you pay the bet money, otherwise you get the bet money!","Bet money for the question":"Bet money for the question","Question category":"Question category","<Amount>":"<Amount>","You must bet money!":"You must bet money!","Next question":"Next question","Back to menu":"Back to menu","Force to go on":"Force to go on","Invalid bet! Must be > 1 and <= your money!":"Invalid bet! Must be > 1 and <= your money!","Attack a fellow player":"Attack a fellow player","If you answer correctly, your enemy's money is halved! But else it is doubled!":"If you answer correctly, your enemy's money is halved! But else it is doubled!","Select a player":"Select a player","You must select a player!":"You must select a player!","Enter your estimation":"Enter your estimation","<Estimation>":"<Estimation>","Enter your estimation first!":"Enter your estimation first!","Estimation must be at least 1!":"Estimation must be at least 1!","Correct answer":"Correct answer",Nothing:"Nothing","The Players' Answers":"The Players' Answers",bets:"bets","and assumes it is":"and assumes it is","attacks;results-vs":"attacks",Nobody:"Nobody","and assumes it is;results-vs":"and assumes it is","assumes it is":"assumes it is",says:"says","Name is too long! At most 25 characters!":"Name is too long! At most 25 characters!"},de:{Accept:"Akzeptieren","This site uses (only functional) cookies!":"Diese Seite benutzt (nur funktionale) Cookies!",Question:"Frage","Waiting for players and server..":"Warte auf Mitspieler und Server..",Name:"Name",Submit:"Absenden","Name must not be empty!":"Name darf nicht leer sein!",Loading:"LÃ¤dt","Connection to server failed!":"Verbindung zum Server fehlgeschlagen!","Lobby ID":"Lobby ID","Create lobby":"Lobby erstellen",Join:"Beitreten","Lobby ID must not be empty!":"Lobby ID darf nicht leer sein!","Join lobby":"Lobby beitreten","Lobby ID was not found!":"Lobby ID wurde nicht gefunden!","Lobby open for new players":"Lobby offen fÃ¼r neue Spieler","Lobby open":"Lobby offen","Admin also plays":"Admin spielt auch mit","Start game":"Spiel starten","Invite link":"Einladungslink","Initial money":"Geld zu Beginn",Jokers:"Anzahl Joker","Normal question reward":"Belohnung fÃ¼r normale Fragen","Estimation question reward":"Belohnung fÃ¼r SchÃ¤tzfragen",Copy:"Kopieren","Question set":"Fragenkatalog","Select one":"WÃ¤hle aus",Custom:"Eigene","Download example":"Downloade Beispieldatei","Select file":"Datei auswÃ¤hlen","File is too large!":"Datei ist zu groÃŸ!","Questions uploaded!":"Fragen hochgeladen!","Invalid JSON!":"Fehlerhafte JSON!","Upload error!":"Uploadfehler!","Load questions before you start the game!":"Lade die Fragen vor dem Spielstart!","Game settings out of sync, please wait!":"Spieleinstellungen nicht synchron zum Server, bitte warten!","Lobby is closed!":"Lobby ist geschlossen!",Players:"Spieler",None:"Keins","Edit player":"Spieler bearbeiten",Money:"Geld",Save:"Speichern",Kick:"Kicken","If you answer wrongly, you pay the bet money, otherwise you get the bet money!":"Wenn du falsch antwortest, wird deine Wette abgezogen, sonst zu deinem Betrag dazu addiert!","Bet money for the question":"Setze Geld fÃ¼r die Frage","Question category":"Fragenkategorie","<Amount>":"<Betrag>","You must bet money!":"Es muss Geld gesetzt werden!","Next question":"NÃ¤chste Frage","Back to menu":"ZurÃ¼ck zum MenÃ¼","Force to go on":"Vorzeitig fortfahren","Invalid bet! Must be > 1 and <= your money!":"Falscher Einsatz! Einsatz muss > 1 und <= deinem Geld sein!","Attack a fellow player":"Attackiere einen Mitspieler","If you answer correctly, your enemy's money is halved! But else it is doubled!":"Wenn du richtig antwortest, wird das Geld des Gegners halbiert! Aber wenn nicht, dann wird es verdoppelt!","Select a player":"WÃ¤hle einen Spieler aus","You must select a player!":"Es muss ein Spieler ausgewÃ¤hlt werden!","Enter your estimation":"Gib deine SchÃ¤tzung ab","<Estimation>":"<SchÃ¤tzung>","Enter your estimation first!":"Gib deine SchÃ¤tzung zuerst ein!","Estimation must be at least 1!":"SchÃ¤tzung muss mindesten 1 sein!","Correct answer":"Richtige Antwort",Nothing:"Nichts","The Players' Answers":"Antworten der Spieler",bets:"wettet","and assumes it is":"und tippt auf","attacks;results-vs":"greift",Nobody:"Niemand","and assumes it is;results-vs":"an und tippt auf","assumes it is":"tippt auf",says:"sagt","Name is too long! At most 25 characters!":"Name ist zu lang! Maximal 25 Zeichen sind erlaubt!"}};const l="./api/",u="./events/";var c={name:"api",lang:r.en,set_name:async function(e){let t=await fetch(l+"set_name?name="+encodeURIComponent(e));if(t.ok)return await t.json();{let e=await t.text();return alert(`${this.lang["Connection to server failed!"]} \n ${t.status} ${t.statusText} \n ${e}`),""}},get_name:async function(){let e=await fetch(l+"get_name");if(e.ok)return await e.json();{if(404==e.status)return"";let t=await e.text();return alert(`${this.lang["Connection to server failed!"]} \n ${e.status} ${e.statusText} \n ${t}`),""}},get_question_sets:async function(){let e=await fetch(l+"get_question_sets");if(e.ok)return await e.json();{let t=await e.text();return alert(`${this.lang["Connection to server failed!"]} \n ${e.status} ${e.statusText} \n ${t}`),[]}},create_lobby:async function(){let e=await fetch(l+"create_lobby");if(e.ok){let[t,n]=await e.json();return{valid:!0,lobby_id:t,admin:n}}{let t=await e.text();return alert(`${this.lang["Connection to server failed!"]} \n ${e.status} ${e.statusText} \n ${t}`),{valid:!1}}},join_lobby:async function(e){let t=await fetch(l+"join_lobby?uuid="+encodeURIComponent(e));if(t.ok){let e=await t.json();return{valid:!0,not_found:!1,closed:!1,admin:e.admin,new_name:e.new_name}}{let e=await t.text();return 404==t.status?{valid:!1,not_found:!0,closed:!1,msg:e}:403==t.status?{valid:!1,not_found:!1,closed:!0,msg:e}:(alert(`${this.lang["Connection to server failed!"]} \n ${t.status} ${t.statusText} \n ${e}`),{valid:!1,not_found:!1,closed:!1})}},leave_lobby:async function(e){let t=await fetch(l+"leave_lobby?uuid="+encodeURIComponent(e));if(t.ok)return!0;{let e=await t.text();return 404==t.status||alert(`${this.lang["Connection to server failed!"]} \n ${t.status} ${t.statusText} \n ${e}`),!1}},get_player_data:async function(e){let t=await fetch(l+"get_player_data?lobby_id="+encodeURIComponent(e));if(t.ok){let e=await t.json();return e}{let e=await t.text();return alert(`${this.lang["Connection to server failed!"]} \n ${t.status} ${t.statusText} \n ${e}`),[]}},get_events:async function(e){let t=await fetch(l+"get_events?lobby_id="+encodeURIComponent(e));if(t.ok){let e=await t.json();return e}{let e=await t.text();return alert(`${this.lang["Connection to server failed!"]} \n ${t.status} ${t.statusText} \n ${e}`),[]}},get_event_stream:async function(e){const t=u+e,n=new EventSource(t);return n},update_lobby:async function(e,t,n,s,i,o,a){const r={lobby_id:e,open:Boolean(t),initial_money:Number(n),initial_jokers:Number(s),normal_q_money:Number(i),estimation_q_money:Number(o),question_set:a},u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};let c=await fetch(l+"update_lobby",u);if(c.ok)return!0;{let e=await c.text();return alert(`${this.lang["Connection to server failed!"]} \n ${c.status} ${c.statusText} \n ${e}`),!1}},upload_custom_questions:async function(e,t){const n={lobby_id:e,questions:t},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};let i=await fetch(l+"upload_custom_questions",s);if(i.ok)return!0;{let e=await i.text();return alert(`${this.lang["Connection to server failed!"]} \n ${i.status} ${i.statusText} \n ${e}`),!1}},kick_player:async function(e,t){const n={lobby_id:e,name:t},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};let i=await fetch(l+"kick_player",s);if(i.ok)return!0;{let e=await i.text();return alert(`${this.lang["Connection to server failed!"]} \n ${i.status} ${i.statusText} \n ${e}`),!1}},set_player_attributes:async function(e,t,n,s){const i={lobby_id:e,name:t,money:n,jokers:s},o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)};let a=await fetch(l+"set_player_attributes",o);if(a.ok)return!0;{let e=await a.text();return alert(`${this.lang["Connection to server failed!"]} \n ${a.status} ${a.statusText} \n ${e}`),!1}},next_state:async function(e){let t=await fetch(l+"next_state?lobby_id="+encodeURIComponent(e));if(t.ok)return!0;{let e=await t.text();return alert(`${this.lang["Connection to server failed!"]} \n ${t.status} ${t.statusText} \n ${e}`),!1}},bet_money:async function(e,t){let n=await fetch(l+"bet_money?lobby_id="+encodeURIComponent(e)+"&money_bet="+encodeURIComponent(t));if(n.ok)return!0;{let e=await n.text();return alert(`${this.lang["Connection to server failed!"]} \n ${n.status} ${n.statusText} \n ${e}`),!1}},attack_player:async function(e,t){let n=await fetch(l+"attack_player?lobby_id="+encodeURIComponent(e)+"&vs_player="+encodeURIComponent(t));if(n.ok)return!0;{let e=await n.text();return alert(`${this.lang["Connection to server failed!"]} \n ${n.status} ${n.statusText} \n ${e}`),!1}},answer_question:async function(e,t){let n=await fetch(l+"answer_question?lobby_id="+encodeURIComponent(e)+"&answer="+encodeURIComponent(t));if(n.ok)return!0;{let e=await n.text();return alert(`${this.lang["Connection to server failed!"]} \n ${n.status} ${n.statusText} \n ${e}`),!1}},get_joker:async function(e){let t=await fetch(l+"get_joker?lobby_id="+encodeURIComponent(e));if(t.ok){let e=await t.json();return e}{let e=await t.text();return alert(`${this.lang["Connection to server failed!"]} \n ${t.status} ${t.statusText} \n ${e}`),[]}}},m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"window"},[n("span",{staticClass:"flag",on:{click:function(t){return e.set_lang("de")}}},[e._v("ðŸ‡©ðŸ‡ª")]),n("span",{staticClass:"flag",on:{click:function(t){return e.set_lang("en")}}},[e._v("ðŸ‡ºðŸ‡¸")])])},d=[],_={name:"LanguageSelector",props:["consent"],methods:{set_lang:function(e){this.consent&&(document.cookie="language="+encodeURIComponent(e)),this.$emit("set-lang",e)}},mounted:function(){let e=a.getCookie("language");"en"!=e&&this.$emit("set-lang",e)}},y=_,b=(n("9425"),n("2877")),p=Object(b["a"])(y,m,d,!1,null,"6c0318bc",null),h=p.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"background"},[n("div",{staticClass:"window"},[n("p",{staticClass:"text"},[e._v(e._s(e.lang["This site uses (only functional) cookies!"]))]),n("div",{staticClass:"button-accept",on:{click:e.accept}},[e._v(e._s(e.lang["Accept"]))])])]):e._e()},g=[],v={name:"CookieConsent",props:["lang"],data:function(){return{visible:!1}},methods:{accept:function(){document.cookie="CONSENT=1",this.visible=!1,this.$emit("consent")},show:function(){this.visible=!0}},mounted:function(){let e=a.getCookie("CONSENT");"1"!=e?this.show():this.$emit("consent")}},w=v,q=(n("4faa"),Object(b["a"])(w,f,g,!1,null,"171dc40e",null)),k=q.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"compWindow",staticStyle:{padding:"1ex 1em"}},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["Players"]))]),n("table",{staticClass:"nameList"},e._l(e.players,(function(t){return n("tr",{key:t.name},[n("td",[n("span",{class:{admin:t.name==e.admin,yellow:t.name==e.self}},[e._v(e._s(t.name))]),e._v(" ("+e._s(t.jokers)+"J) "),e.self==e.admin?n("span",{staticClass:"material-icons icon clickable",on:{click:function(n){return e.edit_player(t)}}},[e._v("edit")]):e._e()]),n("td",[e._v("-")]),n("td",[e._v(e._s(t.money)+" â‚¬")]),"BettingQuestion"==e.question_type?[e._m(0,!0),n("td",[e._v(e._s(0!=t.money_bet?t.money_bet+" â‚¬":e.lang["None"]))])]:e._e()],2)})),0)]),n("transition",{attrs:{name:"background",appear:""}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.edit_popup,expression:"edit_popup"}],staticClass:"popup",on:{click:function(t){return t.target!==t.currentTarget?null:e.close_popup.apply(null,arguments)}}},[n("transition",{attrs:{name:"popup",appear:""}},[e.edit_popup?n("div",{staticClass:"compWindow",on:{click:function(e){e.stopPropagation()}}},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["Edit player"]))]),n("span",{staticClass:"material-icons clickable",attrs:{id:"close-icon"},on:{click:e.close_popup}},[e._v("close")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.save_player.apply(null,arguments)}}},[n("table",[n("tr",[n("td",[n("label",[e._v(e._s(e.editing_player.name))])]),n("td",[n("input",{attrs:{type:"button",value:e.lang["Kick"]},on:{click:e.kick_player}})])]),n("tr",[n("td",[n("label",{attrs:{for:"money"}},[e._v(e._s(e.lang["Money"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editing_player.money,expression:"editing_player.money",modifiers:{number:!0}}],attrs:{type:"number",id:"money",min:"1"},domProps:{value:e.editing_player.money},on:{input:function(t){t.target.composing||e.$set(e.editing_player,"money",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"jokers"}},[e._v(e._s(e.lang["Jokers"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editing_player.jokers,expression:"editing_player.jokers",modifiers:{number:!0}}],attrs:{type:"number",id:"jokers",min:"0"},domProps:{value:e.editing_player.jokers},on:{input:function(t){t.target.composing||e.$set(e.editing_player,"jokers",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",{attrs:{colspan:"2"}},[n("input",{attrs:{type:"submit",id:"save"},domProps:{value:e.lang["Save"]}})])])])])]):e._e()])],1)])],1)},x=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("span",{staticClass:"material-icons icon"},[e._v("arrow_right_alt")])])}],A={name:"PlayerList",props:["lang","players","self","admin","lobby_id","question_type"],data:function(){return{edit_popup:!1,editing_player:{}}},methods:{edit_player:function(e){this.editing_player=Object.assign({},e),this.edit_popup=!0},close_popup:function(){this.edit_popup=!1},save_player:async function(e){e.target.disabled=!0,this.editing_player.money<1&&(this.editing_player.money=1),this.editing_player.jokers<0&&(this.editing_player.jokers=0);const t=await c.set_player_attributes(this.lobby_id,this.editing_player.name,this.editing_player.money,this.editing_player.jokers);e.target.disabled=!1,t&&this.close_popup()},kick_player:async function(e){e.target.disabled=!0;const t=await c.kick_player(this.lobby_id,this.editing_player.name);e.target.disabled=!1,t&&this.close_popup(),t&&this.admin==this.editing_player.name&&this.$emit("admin-leaves")}}},$=A,j=(n("9e88"),Object(b["a"])($,C,x,!1,null,"ec881200",null)),S=j.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"lobby-menu"!=e.selected_window?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.lobby_open,expression:"lobby_open"}],attrs:{type:"checkbox",id:"lobby-open-second",disabled:!e.admin},domProps:{checked:Array.isArray(e.lobby_open)?e._i(e.lobby_open,null)>-1:e.lobby_open},on:{change:[function(t){var n=e.lobby_open,s=t.target,i=!!s.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);s.checked?a<0&&(e.lobby_open=n.concat([o])):a>-1&&(e.lobby_open=n.slice(0,a).concat(n.slice(a+1)))}else e.lobby_open=i},e.update_lobby]}}),n("label",{attrs:{for:"lobby-open-second"}},[e._v(" "+e._s(e.lang["Lobby open"]))])]):e._e()},E=[],B={name:"LobbyOpenCheckbox",props:["lang","admin","lobby_id","sync_params","selected_window"],data:function(){return{lobby_open:!0}},methods:{update_lobby:async function(){await c.update_lobby(this.lobby_id,this.lobby_open,this.sync_params.initial_money,this.sync_params.initial_jokers,this.sync_params.normal_q_money,this.sync_params.estimation_q_money,this.sync_params.question_set)}},watch:{sync_params:function(e,t){this.lobby_open=e.lobby_open}},mounted:function(){setTimeout(()=>{this.lobby_open=Boolean(this.sync_params.lobby_open)},500)}},L=B,P=(n("c5a5"),Object(b["a"])(L,N,E,!1,null,"30296f60",null)),I=P.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{attrs:{disabled:e.button_disabled},on:{click:e.go_next}},["result-display"==e.selected_window?n("span",[e._v(" "+e._s(e.lang["Next question"])+" ")]):"game-end-screen"==e.selected_window?n("span",[e._v(" "+e._s(e.lang["Back to menu"])+" ")]):n("span",[e._v(" "+e._s(e.lang["Force to go on"])+" ")])])},O=[],Q={name:"NextButton",props:["lang","lobby_id","selected_window"],data:function(){return{waiting_for_server:!1}},computed:{button_disabled:function(){return this.waiting_for_server||"lobby-menu"==this.selected_window}},methods:{go_next:async function(){this.waiting_for_server=!0,await c.next_state(this.lobby_id)?setTimeout((function(e){e.waiting_for_server=!1}),2e3,this):this.waiting_for_server=!1}}},z=Q,T=(n("377c"),Object(b["a"])(z,W,O,!1,null,"b6c73400",null)),U=T.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit_name.apply(null,arguments)}}},[n("label",{attrs:{for:"login-input"}},[e._v(e._s(e.lang["Name"])+":")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.nickname,expression:"nickname",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",id:"login-input",placeholder:"<"+e.lang["Name"]+">",autofocus:"",maxlength:"25"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("br"),e.error?[n("span",{staticClass:"error"},[e._v(e._s(e.error_msg))]),n("br")]:e._e(),n("input",{staticClass:"button",attrs:{type:"submit",id:"login-submit"},domProps:{value:e.lang["Submit"]}})],2)])},J=[],F={name:"LoginWindow",props:["lang"],data:function(){return{nickname:"",error:!1,error_msg:""}},methods:{submit_name:function(){if(""==this.nickname)this.error_msg=this.lang["Name must not be empty!"],this.error=!0;else if(this.nickname.length>25)this.error_msg=this.lang["Name is too long! At most 25 characters!"],this.error=!0;else{this.error=!1;let e=document.getElementById("login-submit");e.setAttribute("disabled","disabled"),this.$emit("set-name",this.nickname),setTimeout(()=>{e.removeAttribute("disabled")},2e3)}}},mounted:function(){document.getElementById("login-input").focus()}},R=F,G=(n("a534"),Object(b["a"])(R,D,J,!1,null,"75de5751",null)),M=G.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.button_create_lobby.apply(null,arguments)}}},[n("input",{staticClass:"button",attrs:{type:"submit",id:"lobby-create"},domProps:{value:e.lang["Create lobby"]}})]),n("br"),n("form",{on:{submit:function(t){return t.preventDefault(),e.button_join_lobby.apply(null,arguments)}}},[n("label",{attrs:{for:"lobby-input"}},[e._v(e._s(e.lang["Join lobby"])+":")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.lobby_id,expression:"lobby_id",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",id:"lobby-input",placeholder:"<"+e.lang["Lobby ID"]+">",autofocus:""},domProps:{value:e.lobby_id},on:{input:function(t){t.target.composing||(e.lobby_id=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("br"),e.error?[n("span",{staticClass:"error"},[e._v(e._s(e.error_msg))]),n("br")]:e._e(),e.join_errors.not_found?[n("span",{staticClass:"error"},[e._v(e._s(e.lang["Lobby ID was not found!"]))]),n("br")]:e.join_errors.closed?[n("span",{staticClass:"error"},[e._v(e._s(e.lang["Lobby is closed!"]))]),n("br")]:e._e(),n("input",{staticClass:"button",attrs:{type:"submit",id:"lobby-join"},domProps:{value:e.lang["Join"]}})],2)])},Y=[],K={name:"LobbySelection",props:["lang","join_errors"],data:function(){return{lobby_id:"",error:!1,error_msg:""}},methods:{button_create_lobby:function(){let e=document.getElementById("lobby-create"),t=document.getElementById("lobby-join");e.setAttribute("disabled","disabled"),t.setAttribute("disabled","disabled"),this.$emit("create-lobby"),setTimeout(()=>{e.removeAttribute("disabled"),t.removeAttribute("disabled")},2e3)},button_join_lobby:function(){if(""==this.lobby_id)this.error=!0,this.error_msg=this.lang["Lobby ID must not be empty!"];else{this.error=!1;let e=document.getElementById("lobby-create"),t=document.getElementById("lobby-join");e.setAttribute("disabled","disabled"),t.setAttribute("disabled","disabled"),this.$emit("join-lobby",this.lobby_id),setTimeout(()=>{e.removeAttribute("disabled"),t.removeAttribute("disabled")},2e3)}}},mounted:function(){document.getElementById("lobby-input").focus()}},Z=K,H=(n("72b7"),Object(b["a"])(Z,V,Y,!1,null,"4387557e",null)),X=H.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("div",{staticStyle:{"margin-bottom":"1ex"}},[n("label",{attrs:{for:"invite-link"}},[e._v(e._s(e.lang["Invite link"])+": ")]),n("input",{attrs:{type:"text",id:"invite-link",readonly:"",autofocus:""},domProps:{value:e.invite_link}}),n("input",{attrs:{type:"button",value:e.lang["Copy"]},on:{click:e.copy_invite_link}})]),e.admin?[n("div",{staticStyle:{"margin-bottom":"1ex"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.lobby_open,expression:"lobby_open"}],attrs:{type:"checkbox",id:"lobby-open"},domProps:{checked:Array.isArray(e.lobby_open)?e._i(e.lobby_open,null)>-1:e.lobby_open},on:{change:[function(t){var n=e.lobby_open,s=t.target,i=!!s.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);s.checked?a<0&&(e.lobby_open=n.concat([o])):a>-1&&(e.lobby_open=n.slice(0,a).concat(n.slice(a+1)))}else e.lobby_open=i},e.update_lobby]}}),n("label",{attrs:{for:"lobby-open"}},[e._v(" "+e._s(e.lang["Lobby open for new players"]))]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.admin_plays,expression:"admin_plays"}],attrs:{type:"checkbox",id:"admin-plays"},domProps:{checked:Array.isArray(e.admin_plays)?e._i(e.admin_plays,null)>-1:e.admin_plays},on:{change:function(t){var n=e.admin_plays,s=t.target,i=!!s.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);s.checked?a<0&&(e.admin_plays=n.concat([o])):a>-1&&(e.admin_plays=n.slice(0,a).concat(n.slice(a+1)))}else e.admin_plays=i}}}),n("label",{attrs:{for:"admin-plays"}},[e._v(" "+e._s(e.lang["Admin also plays"]))])]),n("table",{staticStyle:{"margin-bottom":"1ex"}},[n("tr",[n("td",[n("label",{attrs:{for:"initial-money"}},[e._v(e._s(e.lang["Initial money"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.initial_money,expression:"initial_money",modifiers:{number:!0}}],attrs:{type:"number",id:"initial-money",min:"1"},domProps:{value:e.initial_money},on:{change:e.update_lobby,input:function(t){t.target.composing||(e.initial_money=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"initial-jokers"}},[e._v(e._s(e.lang["Jokers"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.initial_jokers,expression:"initial_jokers",modifiers:{number:!0}}],attrs:{type:"number",id:"initial-jokers",min:"0"},domProps:{value:e.initial_jokers},on:{change:e.update_lobby,input:function(t){t.target.composing||(e.initial_jokers=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"normal-q-money"}},[e._v(e._s(e.lang["Normal question reward"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.normal_q_money,expression:"normal_q_money",modifiers:{number:!0}}],attrs:{type:"number",id:"normal-q-money",min:"1"},domProps:{value:e.normal_q_money},on:{change:e.update_lobby,input:function(t){t.target.composing||(e.normal_q_money=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"estimation-q-money"}},[e._v(e._s(e.lang["Estimation question reward"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.estimation_q_money,expression:"estimation_q_money",modifiers:{number:!0}}],attrs:{type:"number",id:"estimation-q-money",min:"1"},domProps:{value:e.estimation_q_money},on:{change:e.update_lobby,input:function(t){t.target.composing||(e.estimation_q_money=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])]),n("div",{staticStyle:{"margin-bottom":"1em"}},[n("label",{attrs:{for:"question-set"}},[e._v(e._s(e.lang["Question set"])+": ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.question_set,expression:"question_set"}],attrs:{id:"question-set"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.question_set=t.target.multiple?n:n[0]},e.update_lobby]}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.lang["Select one"]))]),e._l(e.question_sets,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),n("option",{attrs:{value:"custom"}},[e._v(e._s(e.lang["Custom"]))])],2),"custom"==e.question_set?[n("br"),n("a",{attrs:{href:"questions-example.json"}},[e._v(e._s(e.lang["Download example"]))]),n("br"),n("label",{attrs:{for:"question-file-selector"}},[e._v(e._s(e.lang["Select file"])+": ")]),n("input",{attrs:{type:"file",id:"question-file-selector",accept:"application/json,.json"},on:{change:e.load_questions}}),e.error?[n("br"),n("span",{staticClass:"error"},[e._v(e._s(e.error_msg))])]:e.success?[n("br"),n("span",{staticClass:"success"},[e._v(e._s(e.success_msg))])]:e._e()]:e._e()],2),n("button",{attrs:{type:"button",id:"start",disabled:e.start_disabled},on:{click:e.start_game}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.out_of_sync,expression:"out_of_sync"}],staticClass:"material-icons mirrored spinning"},[e._v("sync")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.out_of_sync,expression:"!out_of_sync"}]},[e._v(e._s(e.lang["Start game"]))])])]:[n("div",{staticStyle:{"margin-bottom":"1ex"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sync_params.lobby_open,expression:"sync_params.lobby_open"}],attrs:{type:"checkbox",id:"lobby-open",disabled:""},domProps:{checked:Array.isArray(e.sync_params.lobby_open)?e._i(e.sync_params.lobby_open,null)>-1:e.sync_params.lobby_open},on:{change:function(t){var n=e.sync_params.lobby_open,s=t.target,i=!!s.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);s.checked?a<0&&e.$set(e.sync_params,"lobby_open",n.concat([o])):a>-1&&e.$set(e.sync_params,"lobby_open",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.sync_params,"lobby_open",i)}}}),n("label",{attrs:{for:"lobby-open"}},[e._v(" "+e._s(e.lang["Lobby open for new players"]))])]),n("table",{staticStyle:{"margin-bottom":"1ex"}},[n("tr",[n("td",[n("label",{attrs:{for:"initial-money"}},[e._v(e._s(e.lang["Initial money"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.sync_params.initial_money,expression:"sync_params.initial_money",modifiers:{number:!0}}],attrs:{type:"number",id:"initial-money",disabled:""},domProps:{value:e.sync_params.initial_money},on:{input:function(t){t.target.composing||e.$set(e.sync_params,"initial_money",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"initial-jokers"}},[e._v(e._s(e.lang["Jokers"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.sync_params.initial_jokers,expression:"sync_params.initial_jokers",modifiers:{number:!0}}],attrs:{type:"number",id:"initial-jokers",disabled:""},domProps:{value:e.sync_params.initial_jokers},on:{input:function(t){t.target.composing||e.$set(e.sync_params,"initial_jokers",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"normal-q-money"}},[e._v(e._s(e.lang["Normal question reward"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.sync_params.normal_q_money,expression:"sync_params.normal_q_money",modifiers:{number:!0}}],attrs:{type:"number",id:"normal-q-money",disabled:""},domProps:{value:e.sync_params.normal_q_money},on:{input:function(t){t.target.composing||e.$set(e.sync_params,"normal_q_money",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"estimation-q-money"}},[e._v(e._s(e.lang["Estimation question reward"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.sync_params.estimation_q_money,expression:"sync_params.estimation_q_money",modifiers:{number:!0}}],attrs:{type:"number",id:"estimation-q-money",disabled:""},domProps:{value:e.sync_params.estimation_q_money},on:{input:function(t){t.target.composing||e.$set(e.sync_params,"estimation_q_money",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])]),n("div",{staticStyle:{"margin-bottom":"1em"}},[n("label",{attrs:{for:"question-set"}},[e._v(e._s(e.lang["Question set"])+": ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.sync_params.question_set,expression:"sync_params.question_set"}],attrs:{id:"question-set",disabled:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.sync_params,"question_set",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.lang["Select one"]))]),e._l(e.question_sets,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),n("option",{attrs:{value:"custom"}},[e._v(e._s(e.lang["Custom"]))])],2)]),n("button",{attrs:{type:"button",id:"start",disabled:""}},[n("span",[e._v(e._s(e.lang["Start game"]))])])]],2)},te=[],ne={name:"LobbyMenu",props:["lang","admin","lobby_id","question_sets","sync_params"],data:function(){return{invite_link:window.location.href,lobby_open:!0,admin_plays:!0,initial_money:500,initial_jokers:3,normal_q_money:500,estimation_q_money:1e3,question_set:"",error:!1,error_msg:"",success:!1,success_msg:"",wait_for_server_start:!1}},computed:{out_of_sync:function(){return Boolean(this.sync_params.lobby_open)!=Boolean(this.lobby_open)||Number(this.sync_params.initial_money)!=Number(this.initial_money)||Number(this.sync_params.initial_jokers)!=Number(this.initial_jokers)||Number(this.sync_params.normal_q_money)!=Number(this.normal_q_money)||Number(this.sync_params.estimation_q_money)!=Number(this.estimation_q_money)||this.sync_params.question_set!=this.question_set},start_disabled:function(){return""==this.question_set||this.out_of_sync||this.wait_for_server_start}},methods:{copy_invite_link:async function(){await navigator.clipboard.writeText(this.invite_link)},update_lobby:async function(){await c.update_lobby(this.lobby_id,this.lobby_open,this.initial_money,this.initial_jokers,this.normal_q_money,this.estimation_q_money,this.question_set)},load_questions:async function(e){const t=e.target.files,n=t[0];if(n.size>51200)this.success=!1,this.error_msg=this.lang["File is too large!"],this.error=!0;else{const e=new FileReader;e.addEventListener("load",async e=>{let t;try{t=JSON.parse(e.target.result)}catch(n){this.success=!1,this.error_msg=this.lang["Invalid JSON!"],this.error=!0}await c.upload_custom_questions(this.lobby_id,t)?(this.error=!1,this.success_msg=this.lang["Questions uploaded!"],this.success=!0):(this.success=!1,this.error_msg=this.lang["Upload error!"],this.error=!0)}),e.readAsText(n)}},start_game:async function(){""==this.question_set||"custom"==this.question_set&&!this.success?alert(this.lang["Load questions before you start the game!"]):this.out_of_sync?alert(this.lang["Game settings out of sync, please wait!"]):(this.wait_for_server_start=!0,this.$emit("start-game",this.admin_plays),setTimeout((function(e){e.wait_for_server_start=!1}),2e3,this))}},mounted:function(){document.getElementById("invite-link").focus(),setTimeout(()=>{this.lobby_open=Boolean(this.sync_params.lobby_open),this.initial_money=Number(this.sync_params.initial_money),this.initial_jokers=Number(this.sync_params.initial_jokers),this.normal_q_money=Number(this.sync_params.normal_q_money),this.estimation_q_money=Number(this.sync_params.estimation_q_money),this.question_set=this.sync_params.question_set},500)}},se=ne,ie=(n("e7d4"),Object(b["a"])(se,ee,te,!1,null,"52e15d04",null)),oe=ie.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["Bet money for the question"]))]),n("p",{staticClass:"text-60"},[e._v(" "+e._s(e.lang["If you answer wrongly, you pay the bet money, otherwise you get the bet money!"])+" ")]),n("span",{staticClass:"yellow text-80"},[e._v(e._s(e.lang["Question category"])+": ")]),n("span",{staticClass:"text-70"},[e._v(e._s(e.question.category))]),n("br"),n("form",{on:{submit:function(t){return t.preventDefault(),e.bet.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.bet_value,expression:"bet_value",modifiers:{number:!0}}],attrs:{type:"number",id:"betting-input",placeholder:e.lang["<Amount>"],min:"1",max:e.max_bet,autofocus:"",disabled:e.watch_only},domProps:{value:e.bet_value},on:{input:function(t){t.target.composing||(e.bet_value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("input",{attrs:{type:"submit",disabled:e.watch_only||""==e.bet_value},domProps:{value:e.lang["Submit"]}})])])},re=[],le={name:"QuestionCategoryBetting",props:["lang","watch_only","question","max_bet"],data:function(){return{bet_value:""}},methods:{bet:function(){this.watch_only||(""==this.bet_value?alert(this.lang["You must bet money!"]):this.bet_value<1||this.bet_value>this.max_bet?alert(this.lang["Invalid bet! Must be > 1 and <= your money!"]):this.$emit("bet-money",this.bet_value))}},mounted:function(){document.getElementById("betting-input").focus()}},ue=le,ce=(n("49de"),Object(b["a"])(ue,ae,re,!1,null,"4b45faf8",null)),me=ce.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["Attack a fellow player"]))]),n("p",{staticClass:"text-60"},[e._v(" "+e._s(e.lang["If you answer correctly, your enemy's money is halved! But else it is doubled!"])+" ")]),n("span",{staticClass:"yellow text-80"},[e._v(e._s(e.lang["Question category"])+": ")]),n("span",{staticClass:"text-70"},[e._v(e._s(e.question.category))]),n("br"),n("form",{on:{submit:function(t){return t.preventDefault(),e.attack.apply(null,arguments)}}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPlayer,expression:"selectedPlayer"}],attrs:{id:"attacking-select",autofocus:"",disabled:e.watch_only},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPlayer=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.lang["Select a player"]))]),e._l(e.players,(function(t){return[t.name!=e.self?n("option",{key:t.name,domProps:{value:t.name}},[e._v(e._s(t.name))]):e._e()]}))],2),n("input",{attrs:{type:"submit",disabled:e.watch_only||""==e.selectedPlayer},domProps:{value:e.lang["Submit"]}})])])},_e=[],ye={name:"QuestionVsAttacker",props:["lang","watch_only","question","players","self"],data:function(){return{selectedPlayer:""}},methods:{attack:function(){""==this.selectedPlayer?alert(this.lang["You must select a player!"]):this.$emit("attack-player",this.selectedPlayer)}},mounted:function(){document.getElementById("attacking-select").focus()}},be=ye,pe=(n("b08e"),Object(b["a"])(be,de,_e,!1,null,"31d259da",null)),he=pe.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},["BettingQuestion"==e.question.type||"NormalQuestion"==e.question.type?n("div",{staticClass:"joker",attrs:{disabled:!e.jokerAvailable||e.usedJoker||e.watch_only},on:{click:e.jokerClick}},[e._v(" 50:50 ")]):e._e(),n("table",{staticClass:"question-design"},[n("tr",[n("td",{staticClass:"quizElement",attrs:{colspan:"2"}},[e._v(e._s(e.question.question))])]),n("tr"),n("tr",[n("td",{staticClass:"quizElement answer",class:[e.quizAnsClasses[0],e.computedQuizAnsClasses[0]],on:{mouseover:function(t){return e.qE_mouseOver(0)},mouseout:function(t){return e.qE_mouseOut(0)},click:function(t){return e.qE_click(0)}}},[e._v("a) "+e._s(e.question.answers[0]))]),n("td",{staticClass:"quizElement answer",class:[e.quizAnsClasses[1],e.computedQuizAnsClasses[1]],on:{mouseover:function(t){return e.qE_mouseOver(1)},mouseout:function(t){return e.qE_mouseOut(1)},click:function(t){return e.qE_click(1)}}},[e._v("b) "+e._s(e.question.answers[1]))])]),n("tr",[n("td",{staticClass:"quizElement answer",class:[e.quizAnsClasses[2],e.computedQuizAnsClasses[2]],on:{mouseover:function(t){return e.qE_mouseOver(2)},mouseout:function(t){return e.qE_mouseOut(2)},click:function(t){return e.qE_click(2)}}},[e._v("c) "+e._s(e.question.answers[2]))]),n("td",{staticClass:"quizElement answer",class:[e.quizAnsClasses[3],e.computedQuizAnsClasses[3]],on:{mouseover:function(t){return e.qE_mouseOver(3)},mouseout:function(t){return e.qE_mouseOut(3)},click:function(t){return e.qE_click(3)}}},[e._v("d) "+e._s(e.question.answers[3]))])])])])},ge=[],ve={name:"QuestionAsker",props:["lang","watch_only","question","jokerAvailable"],data:function(){return{quizAnsClasses:[{mouseover:!1,clicked:!1},{mouseover:!1,clicked:!1},{mouseover:!1,clicked:!1},{mouseover:!1,clicked:!1}],answerSelected:!1,usedJoker:!1}},computed:{computedQuizAnsClasses:function(){let e=[{wrong:!1},{wrong:!1},{wrong:!1},{wrong:!1}];for(const t of this.question.wrong_answers)e[t-1]["wrong"]=!0;return e}},methods:{qE_mouseOver:function(e){this.answerSelected||this.watch_only||(this.quizAnsClasses[e]["mouseover"]=!0)},qE_mouseOut:function(e){this.answerSelected||this.watch_only||(this.quizAnsClasses[e]["mouseover"]=!1)},qE_click:function(e){if(!this.answerSelected&&!this.watch_only&&!this.question.wrong_answers.includes(e+1)){for(var t=0;t<4;t++)this.quizAnsClasses[t]["mouseover"]=!1,this.quizAnsClasses[t]["clicked"]=!1;this.quizAnsClasses[e]["clicked"]=!0,this.answerSelected=!0,this.$emit("answered",e+1)}},jokerClick:function(){!this.jokerAvailable||this.usedJoker||this.watch_only||(this.usedJoker=!0,this.$emit("joker"))}}},we=ve,qe=(n("daae"),Object(b["a"])(we,fe,ge,!1,null,"7073ef22",null)),ke=qe.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("div",{staticClass:"quizElement",staticStyle:{"margin-bottom":"1ex"}},[e._v(e._s(e.question.question))]),n("span",[e._v(e._s(e.lang["Enter your estimation"])+": ")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.estimate.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.estimation,expression:"estimation",modifiers:{number:!0}}],attrs:{type:"number",id:"estimator-input",placeholder:e.lang["<Estimation>"],min:"1",autofocus:""},domProps:{value:e.estimation},on:{input:function(t){t.target.composing||(e.estimation=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("br"),n("input",{attrs:{type:"submit",disabled:e.watch_only||""==e.estimation},domProps:{value:e.lang["Submit"]}})])])},xe=[],Ae={name:"QuestionEstimator",props:["lang","watch_only","question"],data:function(){return{estimation:""}},methods:{estimate:function(){""==this.estimation?alert(this.lang["Enter your estimation first!"]):this.estimation<1?alert(this.lang["Estimation must be at least 1!"]):this.$emit("answered",this.estimation)}},mounted:function(){document.getElementById("estimator-input").focus()}},$e=Ae,je=(n("1e68"),Object(b["a"])($e,Ce,xe,!1,null,"6ed1c74e",null)),Se=je.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"compWindow"},[n("table",{staticClass:"question-design"},[n("tr",[n("td",{staticClass:"quizElement",attrs:{colspan:"2"}},[e._v(e._s(e.question.question))])]),n("tr"),"EstimationQuestion"!=e.question.type?[n("tr",[n("td",{staticClass:"quizElement answer",class:e.quizAnsClasses[0]},[e._v("a) "+e._s(e.question.answers[0]))]),n("td",{staticClass:"quizElement answer",class:e.quizAnsClasses[1]},[e._v("b) "+e._s(e.question.answers[1]))])]),n("tr",[n("td",{staticClass:"quizElement answer",class:e.quizAnsClasses[2]},[e._v("c) "+e._s(e.question.answers[2]))]),n("td",{staticClass:"quizElement answer",class:e.quizAnsClasses[3]},[e._v("d) "+e._s(e.question.answers[3]))])])]:[n("tr",[n("td",{staticStyle:{"font-size":"large"},attrs:{colspan:"2"}},[e._v(e._s(e.lang["Correct answer"])+": "+e._s(e.showCorrectAnswer?e.question.correct_answer:"???"))])])]],2)]),n("div",{staticClass:"compWindow",staticStyle:{padding:"1ex 1em"}},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["The Players' Answers"]))]),n("table",{staticClass:"nameList"},e._l(e.playersPrev,(function(t,s){return n("tr",{key:t.name},[n("td",[n("span",{class:{yellow:t.name==e.self}},[e._v(e._s(t.name))])]),"BettingQuestion"==e.question.type?[n("td",[e._v(e._s(e.lang["bets"]))]),n("td",[e._v(e._s(e.showBetsOrVersus?0!=t.money_bet?t.money_bet+" â‚¬":e.lang["None"]:"???"))]),n("td",[e._v(e._s(e.lang["and assumes it is"]))])]:"VersusQuestion"==e.question.type?[n("td",[e._v(e._s(e.lang["attacks;results-vs"]))]),n("td",[e._v(e._s(e.showBetsOrVersus?""!=t.vs_player?t.vs_player:e.lang["Nobody"]:"???"))]),n("td",[e._v(e._s(e.lang["and assumes it is;results-vs"]))])]:"NormalQuestion"==e.question.type?[n("td",[e._v(e._s(e.lang["assumes it is"]))])]:[n("td",[e._v(e._s(e.lang["says"]))])],"EstimationQuestion"==e.question.type?[n("td",[e._v(e._s(e.showAnswers?0!=t.answer?t.answer:e.lang["Nothing"]:"???"))])]:[n("td",[e._v(e._s(e.showAnswers?e.answerChar[t.answer]:"?)"))])],e.showCorrectAnswer?[e._m(0,!0),n("td",[e._v(e._s((e.playersNew[s].money>t.money?"+":"")+(e.playersNew[s].money-t.money).toString())+" â‚¬")])]:e._e()],2)})),0)])])},Ee=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("span",{staticClass:"material-icons icon"},[e._v("arrow_right_alt")])])}],Be={name:"ResultDisplay",props:["lang","question","playersPrev","playersNew","self"],data:function(){return{quizAnsClasses:[{correct:!1,clicked:!1},{correct:!1,clicked:!1},{correct:!1,clicked:!1},{correct:!1,clicked:!1}],showBetsOrVersus:!1,showAnswers:!1,showCorrectAnswer:!1,timeouts:[]}},computed:{answerChar:function(){return[this.lang["Nothing"],"a)","b)","c)","d)"]}},methods:{revealBets:function(){this.showBetsOrVersus=!0},revealAnswers:function(){if(this.showAnswers=!0,"EstimationQuestion"!=this.question.type)for(const e of this.playersPrev)e.name==this.self&&0!=e.answer&&(this.quizAnsClasses[e.answer-1]["clicked"]=!0)},revealCorrectAnswer:function(){this.showCorrectAnswer=!0,"EstimationQuestion"!=this.question.type&&(this.quizAnsClasses[this.question.correct_answer-1]["correct"]=!0)},removeTimeouts:function(){for(const e of this.timeouts)clearTimeout(e);this.timeouts=[]}},mounted:function(){this.timeouts.push(setTimeout((function(e){e.revealBets()}),3e3,this)),this.timeouts.push(setTimeout((function(e){e.revealAnswers()}),8e3,this)),this.timeouts.push(setTimeout((function(e){e.revealCorrectAnswer()}),15e3,this))},beforeDestroy:function(){this.removeTimeouts()}},Le=Be,Pe=(n("2105"),Object(b["a"])(Le,Ne,Ee,!1,null,"247e6539",null)),Ie=Pe.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("span",{staticClass:"yellow"},[e._v("Ergebnisse")]),n("table",{staticClass:"nameList"},e._l(e.sortedPlayers,(function(t,s){return n("tr",{key:t.name},[n("td",[e._v(e._s(s+1)+". "),n("span",{class:{yellow:t.name==e.self}},[e._v(e._s(t.name))])]),n("td",[e._v("-")]),n("td",[e._v(e._s(t.money)+" â‚¬")])])})),0)])},Oe=[],Qe={name:"GameEndScreen",props:["lang","players","self"],computed:{sortedPlayers:function(){let e=Array.from(this.players);return e.sort((function(e,t){return t.money-e.money})),e}}},ze=Qe,Te=(n("b4f4"),Object(b["a"])(ze,We,Oe,!1,null,"85b356b4",null)),Ue=Te.exports,De={name:"Gameshow",components:{LanguageSelector:h,CookieConsent:k,PlayerList:S,LobbyOpenCheckbox:I,NextButton:U,LoginWindow:M,LobbySelection:X,LobbyMenu:oe,QuestionCategoryBetting:me,QuestionVsAttacker:he,QuestionAsker:ke,QuestionEstimator:Se,ResultDisplay:Ie,GameEndScreen:Ue},data:()=>({lang:r.en,question_sets:[],consent:!1,selectedWindow:"loading",nickname:"",lobby:"",joined:!1,admin:"",admin_plays:!0,money:1,jokers:0,players:[],current_question:{id:0,type:"",category:"",question:"",answers:[],correct_answer:0,wrong_answers:[]},results_players_prev:[],results_players_new:[],animation_in_progress:!1,players_cached:[],event_stream:null,last_event_id:-1,event_queue:[],lobby_selection_params:{not_found:!1,closed:!1},lobby_menu_params:{lobby_open:!0,initial_money:"500",initial_jokers:"3",normal_q_money:"500",estimation_q_money:"1000",question_set:""}}),computed:{watch_only:function(){return this.admin==this.nickname&&!this.admin_plays||!this.joined}},methods:{switchLanguage:function(e){switch(e){case"de":return this.lang=r.de,c.lang=r.de,!0;case"en":return this.lang=r.en,c.lang=r.en,!0;default:return!1}},got_consent:async function(){this.consent=!0;const e=await c.get_name();if(""!=e){this.nickname=e;const t=a.extract_lobby_id();""!=t&&await this.join_lobby(t)||(this.selectedWindow="lobby-selection")}else this.selectedWindow="login-window"},set_name:async function(e){if(!this.consent)return;const t=await c.set_name(e);if(""!=t){this.nickname=t;const e=a.extract_lobby_id();""!=e&&await this.join_lobby(e)||(this.selectedWindow="lobby-selection")}},create_lobby:async function(){if(!this.consent)return;let e=await c.create_lobby();if(!e.valid)return;const t=e.lobby_id;this.lobby=t,this.admin=e.admin,e=await c.join_lobby(t),this.lobby_selection_params.not_found=e.not_found,this.lobby_selection_params.closed=e.closed,e.valid&&(this.admin=e.admin,this.nickname=e.new_name,this.joined=!0,this.selectedWindow="lobby-menu",await this.setup_event_listener(),window.history.pushState("lobby","Gameshow Lobby","#"+t))},join_lobby:async function(e){if(!this.consent)return!1;if(""==e)return!1;const t=await c.join_lobby(e);return this.lobby_selection_params.not_found=t.not_found,this.lobby_selection_params.closed=t.closed,!!t.valid&&(this.lobby=e,this.admin=t.admin,this.nickname=t.new_name,this.joined=!0,this.selectedWindow="lobby-menu",await this.setup_event_listener(),window.history.pushState("lobby","Gameshow Lobby","#"+e),!0)},setup_event_listener:async function(){this.event_stream=await c.get_event_stream(this.lobby),this.event_stream.addEventListener("ping",()=>{this.handle_event_queue()}),this.event_stream.addEventListener("game_event",e=>{this.handle_new_event(JSON.parse(e.data))}),this.event_queue=await c.get_events(this.lobby),this.handle_event_queue()},admin_left:async function(){this.admin_plays=!1,this.joined=!1},start_game:async function(e){if(this.admin_plays=e,this.admin==this.nickname)if(!e&&this.joined)await c.leave_lobby(this.lobby),this.joined=!1;else if(e&&!this.joined){const t=await c.join_lobby(this.lobby);t.valid?(this.admin=t.admin,this.nickname=t.new_name,this.joined=!0):e=!1}const t=this.selectedWindow;this.waitForPlayers(),await c.next_state(this.lobby)||(this.selectedWindow=t)},bet_money:async function(e){const t=this.selectedWindow;this.waitForPlayers(),await c.bet_money(this.lobby,e)||(this.selectedWindow=t)},attack_player:async function(e){const t=this.selectedWindow;this.waitForPlayers(),await c.attack_player(this.lobby,e)||(this.selectedWindow=t)},select_answer:async function(e){const t=this.selectedWindow;this.waitForPlayers(),await c.answer_question(this.lobby,e)||(this.selectedWindow=t)},get_joker:async function(){this.current_question.wrong_answers=await c.get_joker(this.lobby)},waitForPlayers:function(){this.selectedWindow=""},finishedAnimation:function(){this.animation_in_progress&&(this.animation_in_progress=!1,this.players=this.players_cached)},handle_event_queue:function(){this.event_queue.sort((e,t)=>e.id-t.id),this.event_queue.filter(e=>!(e.id<=this.last_event_id)&&(e.id!=this.last_event_id+1||(this.handle_event(e),!1)))},handle_new_event:function(e){this.handle_event_queue(),e.id>this.last_event_id+1?this.event_queue.push(e):e.id==this.last_event_id+1&&this.handle_event(e)},handle_event:function(e){switch(e.event_name){case"BeginNormalQAnswering":this.eventBeginNormalQAnswering(e.event[e.event_name]);break;case"BeginBettingQBetting":this.eventBeginBettingQBetting(e.event[e.event_name]);break;case"BeginBettingQAnswering":this.eventBeginBettingQAnswering(e.event[e.event_name]);break;case"BeginEstimationQAnswering":this.eventBeginEstimationQAnswering(e.event[e.event_name]);break;case"BeginVersusQSelecting":this.eventBeginVersusQSelecting(e.event[e.event_name]);break;case"BeginVersusQAnswering":this.eventBeginVersusQAnswering(e.event[e.event_name]);break;case"ShowResults":this.eventShowResults(e.event[e.event_name]);break;case"GameEnding":this.eventGameEnding(e.event[e.event_name]);break;case"BackToMenu":this.eventBackToMenu(e.event[e.event_name]);break;case"PlayerListUpdate":this.eventPlayerListUpdate(e.event[e.event_name]);break;case"LobbySettingsUpdate":this.eventLobbySettingsUpdate(e.event[e.event_name]);break;default:console.log("Unknown event: "+e.event_name)}this.last_event_id=e.id},eventBeginNormalQAnswering:function(e){this.finishedAnimation(),this.current_question.id=e.current_question,this.current_question.type=e.question_type,this.current_question.category=e.category,this.current_question.question=e.question,this.current_question.answers=e.answers,this.current_question.correct_answer=0,this.current_question.wrong_answers=[],this.selectedWindow="question-asker"},eventBeginBettingQBetting:function(e){this.finishedAnimation(),this.current_question.id=e.current_question,this.current_question.type=e.question_type,this.current_question.category=e.category,this.current_question.question="",this.current_question.answers=[],this.current_question.correct_answer=0,this.current_question.wrong_answers=[],this.selectedWindow="question-category-betting"},eventBeginBettingQAnswering:function(e){this.current_question.question=e.question,this.current_question.answers=e.answers,this.selectedWindow="question-asker"},eventBeginEstimationQAnswering:function(e){this.finishedAnimation(),this.current_question.id=e.current_question,this.current_question.type=e.question_type,this.current_question.category=e.category,this.current_question.question=e.question,this.current_question.answers=[],this.current_question.correct_answer=0,this.current_question.wrong_answers=[],this.selectedWindow="question-estimator"},eventBeginVersusQSelecting:function(e){this.finishedAnimation(),this.current_question.id=e.current_question,this.current_question.type=e.question_type,this.current_question.category=e.category,this.current_question.question="",this.current_question.answers=[],this.current_question.correct_answer=0,this.current_question.wrong_answers=[],this.selectedWindow="question-vs-attacker"},eventBeginVersusQAnswering:function(e){this.current_question.question=e.question,this.current_question.answers=e.answers,this.selectedWindow="question-asker"},eventShowResults:function(e){this.current_question.correct_answer=e.correct_answer,this.results_players_prev=e.previous_player_data,this.results_players_new=e.player_data,this.animation_in_progress=!0,setTimeout((function(e){e.finishedAnimation()}),15e3,this),this.selectedWindow="result-display"},eventGameEnding:function(e){this.finishedAnimation(),this.current_question.type="",this.results_players_new=e.player_data,this.selectedWindow="game-end-screen"},eventBackToMenu:function(e){this.finishedAnimation(),this.current_question.type="",this.lobby_menu_params.open=e.open,this.selectedWindow="lobby-menu"},eventPlayerListUpdate:function(e){this.players_cached=e.player_data;let t=!1;for(const n of this.players_cached)n.name==this.nickname&&(this.money=n.money,this.jokers=n.jokers,t=!0);this.joined=t,this.animation_in_progress||(this.players=this.players_cached)},eventLobbySettingsUpdate:function(e){this.lobby_menu_params={lobby_open:e.open,initial_money:e.initial_money,initial_jokers:e.initial_jokers,normal_q_money:e.normal_q_money,estimation_q_money:e.estimation_q_money,question_set:e.question_set}}},mounted:async function(){this.question_sets=await c.get_question_sets()}},Je=De,Fe=(n("99a6"),Object(b["a"])(Je,i,o,!1,null,null,null)),Re=Fe.exports;s["a"].config.productionTip=!1,new s["a"]({render:e=>e(Re)}).$mount("#app")},"5ca0":function(e,t,n){},"6cc7":function(e,t,n){},"720a":function(e,t,n){},"72b7":function(e,t,n){"use strict";n("6cc7")},7499:function(e,t,n){},"8bab":function(e,t,n){},9425:function(e,t,n){"use strict";n("07c0")},"99a6":function(e,t,n){"use strict";n("5ca0")},"9e88":function(e,t,n){"use strict";n("fee1")},a534:function(e,t,n){"use strict";n("358b")},af1b:function(e,t,n){},b08e:function(e,t,n){"use strict";n("5388")},b4f4:function(e,t,n){"use strict";n("07ae")},c5a5:function(e,t,n){"use strict";n("720a")},daae:function(e,t,n){"use strict";n("f66c")},e7d4:function(e,t,n){"use strict";n("f722")},ee19:function(e,t,n){},f66c:function(e,t,n){},f722:function(e,t,n){},fee1:function(e,t,n){}});
//# sourceMappingURL=app.853a0815.js.map