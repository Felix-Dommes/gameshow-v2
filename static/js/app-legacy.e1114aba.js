(function(e){function t(t){for(var s,i,o=t[0],u=t[1],c=t[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},r={app:0},a=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07ae":function(e,t,n){},"07c0":function(e,t,n){},"0e9c":function(e,t,n){"use strict";n("b95d")},1707:function(e,t,n){},"1e68":function(e,t,n){"use strict";n("1707")},3561:function(e,t,n){},"377c":function(e,t,n){"use strict";n("ee19")},"49de":function(e,t,n){"use strict";n("7499")},"4faa":function(e,t,n){"use strict";n("af1b")},5388:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"gameshow"}},[n("language-selector",{attrs:{consent:e.consent},on:{"set-lang":e.switchLanguage}}),n("cookie-consent",{attrs:{lang:e.lang},on:{consent:e.got_consent}}),n("div",{staticClass:"mainWindow"},[n("div",{staticClass:"sidebar"},[""!=e.nickname&&""!=e.lobby?[n("transition",{attrs:{name:"transition",mode:"out-in",appear:""}},[n("div",{staticClass:"compWindow",staticStyle:{"text-align":"center"}},[n("span",[e._v(e._s(e.lang["Question"])+" "+e._s(e.current_question.id))]),e.nickname==e.admin?n("next-button",{attrs:{lang:e.lang,lobby_id:e.lobby,selected_window:e.selectedWindow}}):e._e()],1)]),n("transition",{attrs:{name:"transition",mode:"out-in",appear:""}},[n("player-list",{attrs:{lang:e.lang,players:e.players,self:e.nickname,admin:e.admin,lobby_id:e.lobby,question_type:e.current_question.type},on:{"admin-leaves":e.admin_left}})],1)]:e._e()],2),n("div",{staticClass:"mainStage"},[n("transition",{attrs:{name:"transition",mode:"out-in",appear:""}},["loading"==e.selectedWindow?[n("div",{staticClass:"compWindow"},[e._v(" "+e._s(e.lang["Loading"])+".. ")])]:"login-window"==e.selectedWindow?[n("login-window",{attrs:{lang:e.lang},on:{"set-name":e.set_name}})]:"lobby-selection"==e.selectedWindow?[n("lobby-selection",{attrs:{lang:e.lang,join_errors:e.lobby_selection_params},on:{"create-lobby":e.create_lobby,"join-lobby":e.join_lobby}})]:"lobby-menu"==e.selectedWindow?[n("lobby-menu",{attrs:{lang:e.lang,admin:e.nickname==e.admin,lobby_id:e.lobby,question_sets:e.question_sets,sync_params:e.lobby_menu_params},on:{"start-game":e.start_game}})]:"question-category-betting"==e.selectedWindow?[n("question-category-betting",{attrs:{lang:e.lang,watch_only:e.watch_only,question:e.current_question,max_bet:e.money},on:{"bet-money":e.bet_money}})]:"question-vs-attacker"==e.selectedWindow?[n("question-vs-attacker",{attrs:{lang:e.lang,watch_only:e.watch_only,question:e.current_question,players:e.players,self:e.nickname},on:{"attack-player":e.attack_player}})]:"question-asker"==e.selectedWindow?[n("question-asker",{attrs:{lang:e.lang,watch_only:e.watch_only,question:e.current_question,"joker-available":e.jokers>0},on:{joker:e.get_joker,answered:e.select_answer}})]:"question-estimator"==e.selectedWindow?[n("question-estimator",{attrs:{lang:e.lang,watch_only:e.watch_only,question:e.current_question},on:{answered:e.select_answer}})]:"result-display"==e.selectedWindow?[n("result-display",{attrs:{lang:e.lang,question:e.current_question,"players-prev":e.results_players_prev,"players-new":e.results_players_new,self:e.nickname}})]:"game-end-screen"==e.selectedWindow?[n("game-end-screen",{attrs:{lang:e.lang,players:e.results_players_new,self:e.nickname}})]:[n("div",{staticClass:"compWindow",attrs:{id:"waiting-window"}},[e._v(" "+e._s(e.lang["Waiting for players and server.."])+" ")])]],2)],1)])],1)},a=[],i=n("b85c"),o=n("1da1"),u=(n("4de4"),n("b0c0"),n("96cf"),n("1276"),n("ac1f"),n("498a"),{getCookie:function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var s=t[n].split("=");if(e==s[0].trim())return decodeURIComponent(s[1])}return null},extract_lobby_id:function(){var e=window.location.href,t=e.indexOf("#");return-1==t?"":e.substr(t+1)}}),c={name:"lang",en:{"Something went wrong! Reloading page..":"Something went wrong! Reloading page..","":"TODO: add text",Accept:"Accept","This site uses (only functional) cookies!":"This site uses (only functional) cookies!",Question:"Question","Waiting for players and server..":"Waiting for players and server..",Name:"Name",Submit:"Submit","Name must not be empty!":"Name must not be empty!",Loading:"Loading","Connection to server failed!":"Connection to server failed!","Lobby ID":"Lobby ID","Create lobby":"Create lobby",Join:"Join","Lobby ID must not be empty!":"Lobby ID must not be empty!","Join lobby":"Join lobby","Lobby ID was not found!":"Lobby ID was not found!","Lobby open for new players":"Lobby open for new players","Admin also plays":"Admin also plays","Lobby open while playing":"Lobby open while playing","Start game":"Start game","Invite link":"Invite link","Initial money":"Initial money",Jokers:"Jokers","Normal question reward":"Normal question reward","Estimation question reward":"Estimation question reward",Copy:"Copy","Question set":"Question set","Select one":"Select one",Custom:"Custom","Download example":"Download example file","Select file":"Select file","File is too large!":"File is too large!","Questions uploaded!":"Questions uploaded!","Invalid JSON!":"Invalid JSON!","Upload error!":"Upload error!","Load questions before you start the game!":"Load questions before you start the game!","Game settings out of sync, please wait!":"Game settings out of sync, please wait!","Lobby is closed!":"Lobby is closed!",Players:"Players",None:"None","Edit player":"Edit player",Money:"Money",Save:"Save",Kick:"Kick","If you answer wrongly, you pay the bet money, otherwise you get the bet money!":"If you answer wrongly, you pay the bet money, otherwise you get the bet money!","Bet money for the question":"Bet money for the question","Question category":"Question category","<Amount>":"<Amount>","You must bet money!":"You must bet money!","Next question":"Next question","Back to menu":"Back to menu","Force to go on":"Force to go on","Invalid bet! Must be > 1 and <= your money!":"Invalid bet! Must be > 1 and <= your money!","Attack a fellow player":"Attack a fellow player","If you answer correctly, your enemy's money is halved! But else it is doubled!":"If you answer correctly, your enemy's money is halved! But else it is doubled!","Select a player":"Select a player","You must select a player!":"You must select a player!","Enter your estimation":"Enter your estimation","<Estimation>":"<Estimation>","Enter your estimation first!":"Enter your estimation first!","Estimation must be at least 1!":"Estimation must be at least 1!","Correct answer":"Correct answer",Nothing:"Nothing","The Players' Answers":"The Players' Answers",bets:"bets","and assumes it is":"and assumes it is","attacks;results-vs":"attacks",Nobody:"Nobody","and assumes it is;results-vs":"and assumes it is","assumes it is":"assumes it is",says:"says","Name is too long! At most 25 characters!":"Name is too long! At most 25 characters!"},de:{"Something went wrong! Reloading page..":"Etwas ist schief gelaufen! Seite wird neu geladen..","":"TODO: Text hinzuf√ºgen",Accept:"Akzeptieren","This site uses (only functional) cookies!":"Diese Seite benutzt (nur funktionale) Cookies!",Question:"Frage","Waiting for players and server..":"Warte auf Mitspieler und Server..",Name:"Name",Submit:"Absenden","Name must not be empty!":"Name darf nicht leer sein!",Loading:"L√§dt","Connection to server failed!":"Verbindung zum Server fehlgeschlagen!","Lobby ID":"Lobby ID","Create lobby":"Lobby erstellen",Join:"Beitreten","Lobby ID must not be empty!":"Lobby ID darf nicht leer sein!","Join lobby":"Lobby beitreten","Lobby ID was not found!":"Lobby ID wurde nicht gefunden!","Lobby open for new players":"Lobby offen f√ºr neue Spieler","Admin also plays":"Admin spielt auch mit","Lobby open while playing":"Lobby offen w√§hrend des Spielens","Start game":"Spiel starten","Invite link":"Einladungslink","Initial money":"Geld zu Beginn",Jokers:"Anzahl Joker","Normal question reward":"Belohnung f√ºr normale Fragen","Estimation question reward":"Belohnung f√ºr Sch√§tzfragen",Copy:"Kopieren","Question set":"Fragenkatalog","Select one":"W√§hle aus",Custom:"Eigene","Download example":"Downloade Beispieldatei","Select file":"Datei ausw√§hlen","File is too large!":"Datei ist zu gro√ü!","Questions uploaded!":"Fragen hochgeladen!","Invalid JSON!":"Fehlerhafte JSON!","Upload error!":"Uploadfehler!","Load questions before you start the game!":"Lade die Fragen vor dem Spielstart!","Game settings out of sync, please wait!":"Spieleinstellungen nicht synchron zum Server, bitte warten!","Lobby is closed!":"Lobby ist geschlossen!",Players:"Spieler",None:"Keins","Edit player":"Spieler bearbeiten",Money:"Geld",Save:"Speichern",Kick:"Kicken","If you answer wrongly, you pay the bet money, otherwise you get the bet money!":"Wenn du falsch antwortest, wird deine Wette abgezogen, sonst zu deinem Betrag dazu addiert!","Bet money for the question":"Setze Geld f√ºr die Frage","Question category":"Fragenkategorie","<Amount>":"<Betrag>","You must bet money!":"Es muss Geld gesetzt werden!","Next question":"N√§chste Frage","Back to menu":"Zur√ºck zum Men√º","Force to go on":"Vorzeitig fortfahren","Invalid bet! Must be > 1 and <= your money!":"Falscher Einsatz! Einsatz muss > 1 und <= deinem Geld sein!","Attack a fellow player":"Attackiere einen Mitspieler","If you answer correctly, your enemy's money is halved! But else it is doubled!":"Wenn du richtig antwortest, wird das Geld des Gegners halbiert! Aber wenn nicht, dann wird es verdoppelt!","Select a player":"W√§hle einen Spieler aus","You must select a player!":"Es muss ein Spieler ausgew√§hlt werden!","Enter your estimation":"Gib deine Sch√§tzung ab","<Estimation>":"<Sch√§tzung>","Enter your estimation first!":"Gib deine Sch√§tzung zuerst ein!","Estimation must be at least 1!":"Sch√§tzung muss mindesten 1 sein!","Correct answer":"Richtige Antwort",Nothing:"Nichts","The Players' Answers":"Antworten der Spieler",bets:"wettet","and assumes it is":"und tippt auf","attacks;results-vs":"greift",Nobody:"Niemand","and assumes it is;results-vs":"an und tippt auf","assumes it is":"tippt auf",says:"sagt","Name is too long! At most 25 characters!":"Name ist zu lang! Maximal 25 Zeichen sind erlaubt!"}},l=n("3835"),m=(n("d3b7"),n("99af"),n("a9e3"),"./api/"),d="./events/",p={name:"api",lang:c.en,set_name:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"set_name?name="+encodeURIComponent(t));case 2:if(n=e.sent,n.ok){e.next=11;break}return e.next=6,n.text();case 6:return s=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(n.status," ").concat(n.statusText," \n ").concat(s)),e.abrupt("return","");case 11:return e.next=13,n.json();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),get_name:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"get_name");case 2:if(t=e.sent,t.ok){e.next=13;break}if(404!=t.status){e.next=6;break}return e.abrupt("return","");case 6:return e.next=8,t.text();case 8:return n=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(t.status," ").concat(t.statusText," \n ").concat(n)),e.abrupt("return","");case 13:return e.next=15,t.json();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),get_question_sets:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"get_question_sets");case 2:if(t=e.sent,t.ok){e.next=11;break}return e.next=6,t.text();case 6:return n=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(t.status," ").concat(t.statusText," \n ").concat(n)),e.abrupt("return",[]);case 11:return e.next=13,t.json();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),create_lobby:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,s,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"create_lobby");case 2:if(t=e.sent,t.ok){e.next=11;break}return e.next=6,t.text();case 6:return n=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(t.status," ").concat(t.statusText," \n ").concat(n)),e.abrupt("return",{valid:!1});case 11:return e.next=13,t.json();case 13:return s=e.sent,r=Object(l["a"])(s,2),a=r[0],i=r[1],e.abrupt("return",{valid:!0,lobby_id:a,admin:i});case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),join_lobby:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"join_lobby?uuid="+encodeURIComponent(t));case 2:if(n=e.sent,n.ok){e.next=15;break}return e.next=6,n.text();case 6:if(s=e.sent,404!=n.status){e.next=9;break}return e.abrupt("return",{valid:!1,not_found:!0,closed:!1,msg:s});case 9:if(403!=n.status){e.next=11;break}return e.abrupt("return",{valid:!1,not_found:!1,closed:!0,msg:s});case 11:return alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(n.status," ").concat(n.statusText," \n ").concat(s)),e.abrupt("return",{valid:!1,not_found:!1,closed:!1});case 15:return e.next=17,n.json();case 17:return r=e.sent,e.abrupt("return",{valid:!0,not_found:!1,closed:!1,admin:r.admin,new_name:r.new_name});case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),leave_lobby:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"leave_lobby?uuid="+encodeURIComponent(t));case 2:if(n=e.sent,n.ok){e.next=13;break}return e.next=6,n.text();case 6:if(s=e.sent,404!=n.status){e.next=9;break}return e.abrupt("return",!1);case 9:return alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(n.status," ").concat(n.statusText," \n ").concat(s)),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),get_player_data:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"get_player_data?lobby_id="+encodeURIComponent(t));case 2:if(n=e.sent,n.ok){e.next=11;break}return e.next=6,n.text();case 6:return s=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(n.status," ").concat(n.statusText," \n ").concat(s)),e.abrupt("return",[]);case 11:return e.next=13,n.json();case 13:return r=e.sent,e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),get_events:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"get_events?lobby_id="+encodeURIComponent(t));case 2:if(n=e.sent,n.ok){e.next=11;break}return e.next=6,n.text();case 6:return s=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(n.status," ").concat(n.statusText," \n ").concat(s)),e.abrupt("return",[]);case 11:return e.next=13,n.json();case 13:return r=e.sent,e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),get_event_stream:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=d+t,s=new EventSource(n),e.abrupt("return",s);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),update_lobby:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,s,r,a,i,o){var u,c,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u={lobby_id:t,open:Boolean(n),initial_money:Number(s),initial_jokers:Number(r),normal_q_money:Number(a),estimation_q_money:Number(i),question_set:o},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)},e.next=4,fetch(m+"update_lobby",c);case 4:if(l=e.sent,l.ok){e.next=13;break}return e.next=8,l.text();case 8:return d=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(l.status," ").concat(l.statusText," \n ").concat(d)),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,s,r,a,i,o){return e.apply(this,arguments)}return t}(),upload_custom_questions:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var s,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={lobby_id:t,questions:n},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},e.next=4,fetch(m+"upload_custom_questions",r);case 4:if(a=e.sent,a.ok){e.next=13;break}return e.next=8,a.text();case 8:return i=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(a.status," ").concat(a.statusText," \n ").concat(i)),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),kick_player:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var s,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={lobby_id:t,name:n},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},e.next=4,fetch(m+"kick_player",r);case 4:if(a=e.sent,a.ok){e.next=13;break}return e.next=8,a.text();case 8:return i=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(a.status," ").concat(a.statusText," \n ").concat(i)),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),set_player_attributes:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,s,r){var a,i,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={lobby_id:t,name:n,money:s,jokers:r},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},e.next=4,fetch(m+"set_player_attributes",i);case 4:if(o=e.sent,o.ok){e.next=13;break}return e.next=8,o.text();case 8:return u=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(o.status," ").concat(o.statusText," \n ").concat(u)),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,s,r){return e.apply(this,arguments)}return t}(),next_state:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"next_state?lobby_id="+encodeURIComponent(t));case 2:if(n=e.sent,n.ok){e.next=11;break}return e.next=6,n.text();case 6:return s=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(n.status," ").concat(n.statusText," \n ").concat(s)),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),bet_money:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"bet_money?lobby_id="+encodeURIComponent(t)+"&money_bet="+encodeURIComponent(n));case 2:if(s=e.sent,s.ok){e.next=11;break}return e.next=6,s.text();case 6:return r=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(s.status," ").concat(s.statusText," \n ").concat(r)),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),attack_player:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"attack_player?lobby_id="+encodeURIComponent(t)+"&vs_player="+encodeURIComponent(n));case 2:if(s=e.sent,s.ok){e.next=11;break}return e.next=6,s.text();case 6:return r=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(s.status," ").concat(s.statusText," \n ").concat(r)),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),answer_question:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"answer_question?lobby_id="+encodeURIComponent(t)+"&answer="+encodeURIComponent(n));case 2:if(s=e.sent,s.ok){e.next=11;break}return e.next=6,s.text();case 6:return r=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(s.status," ").concat(s.statusText," \n ").concat(r)),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),get_joker:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"get_joker?lobby_id="+encodeURIComponent(t));case 2:if(n=e.sent,n.ok){e.next=11;break}return e.next=6,n.text();case 6:return s=e.sent,alert("".concat(this.lang["Connection to server failed!"]," \n ").concat(n.status," ").concat(n.statusText," \n ").concat(s)),e.abrupt("return",[]);case 11:return e.next=13,n.json();case 13:return r=e.sent,e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"window"},[n("span",{staticClass:"flag",on:{click:function(t){return e.set_lang("de")}}},[e._v("üá©üá™")]),n("span",{staticClass:"flag",on:{click:function(t){return e.set_lang("en")}}},[e._v("üá∫üá∏")])])},b=[],y={name:"LanguageSelector",props:["consent"],methods:{set_lang:function(e){this.consent&&(document.cookie="language="+encodeURIComponent(e)),this.$emit("set-lang",e)}},mounted:function(){var e=u.getCookie("language");"en"!=e&&this.$emit("set-lang",e)}},h=y,f=(n("9425"),n("2877")),g=Object(f["a"])(h,_,b,!1,null,"6c0318bc",null),v=g.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"background"},[n("div",{staticClass:"window"},[n("p",{staticClass:"text"},[e._v(e._s(e.lang["This site uses (only functional) cookies!"]))]),n("div",{staticClass:"button-accept",on:{click:e.accept}},[e._v(e._s(e.lang["Accept"]))])])]):e._e()},k=[],x={name:"CookieConsent",props:["lang"],data:function(){return{visible:!1}},methods:{accept:function(){document.cookie="CONSENT=1",this.visible=!1,this.$emit("consent")},show:function(){this.visible=!0}},mounted:function(){var e=u.getCookie("CONSENT");"1"!=e?this.show():this.$emit("consent")}},q=x,C=(n("4faa"),Object(f["a"])(q,w,k,!1,null,"171dc40e",null)),j=C.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"compWindow",staticStyle:{padding:"1ex 1em"}},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["Players"]))]),n("table",{staticClass:"nameList"},e._l(e.players,(function(t){return n("tr",{key:t.name},[n("td",[n("span",{class:{admin:t.name==e.admin,yellow:t.name==e.self}},[e._v(e._s(t.name))]),e._v(" ("+e._s(t.jokers)+"J) "),e.self==e.admin?n("span",{staticClass:"material-icons icon clickable",on:{click:function(n){return e.edit_player(t)}}},[e._v("edit")]):e._e()]),n("td",[e._v("-")]),n("td",[e._v(e._s(t.money)+" ‚Ç¨")]),"BettingQuestion"==e.question_type?[e._m(0,!0),n("td",[e._v(e._s(0!=t.money_bet?t.money_bet+" ‚Ç¨":e.lang["None"]))])]:e._e()],2)})),0)]),n("transition",{attrs:{name:"background",appear:""}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.edit_popup,expression:"edit_popup"}],staticClass:"popup",on:{click:function(t){return t.target!==t.currentTarget?null:e.close_popup(t)}}},[n("transition",{attrs:{name:"popup",appear:""}},[e.edit_popup?n("div",{staticClass:"compWindow",on:{click:function(e){e.stopPropagation()}}},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["Edit player"]))]),n("span",{staticClass:"material-icons clickable",attrs:{id:"close-icon"},on:{click:e.close_popup}},[e._v("close")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.save_player(t)}}},[n("table",[n("tr",[n("td",[n("label",[e._v(e._s(e.editing_player.name))])]),n("td",[n("input",{attrs:{type:"button",value:e.lang["Kick"]},on:{click:e.kick_player}})])]),n("tr",[n("td",[n("label",{attrs:{for:"money"}},[e._v(e._s(e.lang["Money"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editing_player.money,expression:"editing_player.money",modifiers:{number:!0}}],attrs:{type:"number",name:"money",min:"1"},domProps:{value:e.editing_player.money},on:{input:function(t){t.target.composing||e.$set(e.editing_player,"money",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"jokers"}},[e._v(e._s(e.lang["Jokers"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.editing_player.jokers,expression:"editing_player.jokers",modifiers:{number:!0}}],attrs:{type:"number",name:"jokers",min:"1"},domProps:{value:e.editing_player.jokers},on:{input:function(t){t.target.composing||e.$set(e.editing_player,"jokers",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",{attrs:{colspan:"2"}},[n("input",{attrs:{type:"submit",id:"save"},domProps:{value:e.lang["Save"]}})])])])])]):e._e()])],1)])],1)},S=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("span",{staticClass:"material-icons icon"},[e._v("arrow_right_alt")])])}],E={name:"PlayerList",props:["lang","players","self","admin","lobby_id","question_type"],data:function(){return{edit_popup:!1,editing_player:{}}},methods:{edit_player:function(e){this.editing_player=Object.assign({},e),this.edit_popup=!0},close_popup:function(){this.edit_popup=!1},save_player:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.target.disabled=!0,this.editing_player.money<1&&(this.editing_player.money=1),this.editing_player.jokers<0&&(this.editing_player.jokers=0),e.next=5,p.set_player_attributes(this.lobby_id,this.editing_player.name,this.editing_player.money,this.editing_player.jokers);case 5:n=e.sent,t.target.disabled=!1,n&&this.close_popup();case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),kick_player:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.target.disabled=!0,e.next=3,p.kick_player(this.lobby_id,this.editing_player.name);case 3:n=e.sent,t.target.disabled=!1,n&&this.close_popup(),n&&this.admin==this.editing_player.name&&this.$emit("admin-leaves");case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},N=E,O=(n("b05a"),Object(f["a"])(N,A,S,!1,null,"10066cdf",null)),R=O.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{attrs:{disabled:e.button_disabled},on:{click:e.go_next}},["result-display"==e.selected_window?n("span",[e._v(" "+e._s(e.lang["Next question"])+" ")]):"game-end-screen"==e.selected_window?n("span",[e._v(" "+e._s(e.lang["Back to menu"])+" ")]):n("span",[e._v(" "+e._s(e.lang["Force to go on"])+" ")])])},P=[],L={name:"NextButton",props:["lang","lobby_id","selected_window"],data:function(){return{waiting_for_server:!1}},computed:{button_disabled:function(){return this.waiting_for_server||"lobby-menu"==this.selected_window}},methods:{go_next:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.waiting_for_server=!0,e.next=3,p.next_state(this.lobby_id);case 3:if(!e.sent){e.next=7;break}setTimeout((function(e){e.waiting_for_server=!1}),2e3,this),e.next=8;break;case 7:this.waiting_for_server=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},I=L,W=(n("377c"),Object(f["a"])(I,B,P,!1,null,"b6c73400",null)),T=W.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit_name(t)}}},[n("label",{attrs:{for:"name"}},[e._v(e._s(e.lang["Name"])+":")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.nickname,expression:"nickname",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",name:"name",placeholder:"<"+e.lang["Name"]+">",autofocus:"",id:"login-input",maxlength:"25"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("br"),e.error?[n("span",{staticClass:"error"},[e._v(e._s(e.error_msg))]),n("br")]:e._e(),n("input",{staticClass:"button",attrs:{type:"submit",id:"login-submit"},domProps:{value:e.lang["Submit"]}})],2)])},Q=[],$={name:"LoginWindow",props:["lang"],data:function(){return{nickname:"",error:!1,error_msg:""}},methods:{submit_name:function(){if(""==this.nickname)this.error_msg=this.lang["Name must not be empty!"],this.error=!0;else if(this.nickname.length>25)this.error_msg=this.lang["Name is too long! At most 25 characters!"],this.error=!0;else{this.error=!1;var e=document.getElementById("login-submit");e.setAttribute("disabled","disabled"),this.$emit("set-name",this.nickname),setTimeout((function(){e.removeAttribute("disabled")}),2e3)}}},mounted:function(){document.getElementById("login-input").focus()}},U=$,D=(n("0e9c"),Object(f["a"])(U,z,Q,!1,null,"bff8abfe",null)),J=D.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.button_create_lobby(t)}}},[n("input",{staticClass:"button",attrs:{type:"submit",id:"lobby-create"},domProps:{value:e.lang["Create lobby"]}})]),n("br"),n("form",{on:{submit:function(t){return t.preventDefault(),e.button_join_lobby(t)}}},[n("label",{attrs:{for:"lobbyID"}},[e._v(e._s(e.lang["Join lobby"])+":")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.lobby_id,expression:"lobby_id",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",name:"lobbyID",placeholder:"<"+e.lang["Lobby ID"]+">",autofocus:"",id:"lobby-input"},domProps:{value:e.lobby_id},on:{input:function(t){t.target.composing||(e.lobby_id=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("br"),e.error?[n("span",{staticClass:"error"},[e._v(e._s(e.error_msg))]),n("br")]:e._e(),e.join_errors.not_found?[n("span",{staticClass:"error"},[e._v(e._s(e.lang["Lobby ID was not found!"]))]),n("br")]:e.join_errors.closed?[n("span",{staticClass:"error"},[e._v(e._s(e.lang["Lobby is closed!"]))]),n("br")]:e._e(),n("input",{staticClass:"button",attrs:{type:"submit",id:"lobby-join"},domProps:{value:e.lang["Join"]}})],2)])},G=[],M={name:"LobbySelection",props:["lang","join_errors"],data:function(){return{lobby_id:"",error:!1,error_msg:""}},methods:{button_create_lobby:function(){var e=document.getElementById("lobby-create"),t=document.getElementById("lobby-join");e.setAttribute("disabled","disabled"),t.setAttribute("disabled","disabled"),this.$emit("create-lobby"),setTimeout((function(){e.removeAttribute("disabled"),t.removeAttribute("disabled")}),2e3)},button_join_lobby:function(){if(""==this.lobby_id)this.error=!0,this.error_msg=this.lang["Lobby ID must not be empty!"];else{this.error=!1;var e=document.getElementById("lobby-create"),t=document.getElementById("lobby-join");e.setAttribute("disabled","disabled"),t.setAttribute("disabled","disabled"),this.$emit("join-lobby",this.lobby_id),setTimeout((function(){e.removeAttribute("disabled"),t.removeAttribute("disabled")}),2e3)}}},mounted:function(){document.getElementById("lobby-input").focus()}},V=M,Y=(n("8b56"),Object(f["a"])(V,F,G,!1,null,"21559b13",null)),K=Y.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("div",{staticStyle:{"margin-bottom":"1ex"}},[n("label",{attrs:{for:"invite-link"}},[e._v(e._s(e.lang["Invite link"])+": ")]),n("input",{attrs:{type:"text",name:"invite-link",id:"invite-link",readonly:"",autofocus:""},domProps:{value:e.invite_link}}),n("input",{attrs:{type:"button",value:e.lang["Copy"]},on:{click:e.copy_invite_link}})]),e.admin?[n("div",{staticStyle:{"margin-bottom":"1ex"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.lobby_open,expression:"lobby_open"}],staticClass:"checkbox",attrs:{type:"checkbox",name:"lobby-open"},domProps:{checked:Array.isArray(e.lobby_open)?e._i(e.lobby_open,null)>-1:e.lobby_open},on:{change:[function(t){var n=e.lobby_open,s=t.target,r=!!s.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);s.checked?i<0&&(e.lobby_open=n.concat([a])):i>-1&&(e.lobby_open=n.slice(0,i).concat(n.slice(i+1)))}else e.lobby_open=r},e.update_lobby]}}),n("label",{attrs:{for:"lobby-open"}},[e._v(" "+e._s(e.lang["Lobby open for new players"]))]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.admin_plays,expression:"admin_plays"}],staticClass:"checkbox",attrs:{type:"checkbox",name:"admin-plays"},domProps:{checked:Array.isArray(e.admin_plays)?e._i(e.admin_plays,null)>-1:e.admin_plays},on:{change:function(t){var n=e.admin_plays,s=t.target,r=!!s.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);s.checked?i<0&&(e.admin_plays=n.concat([a])):i>-1&&(e.admin_plays=n.slice(0,i).concat(n.slice(i+1)))}else e.admin_plays=r}}}),n("label",{attrs:{for:"admin-plays"}},[e._v(" "+e._s(e.lang["Admin also plays"]))]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.open_while_playing,expression:"open_while_playing"}],staticClass:"checkbox",attrs:{type:"checkbox",name:"open-while-playing"},domProps:{checked:Array.isArray(e.open_while_playing)?e._i(e.open_while_playing,null)>-1:e.open_while_playing},on:{change:function(t){var n=e.open_while_playing,s=t.target,r=!!s.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);s.checked?i<0&&(e.open_while_playing=n.concat([a])):i>-1&&(e.open_while_playing=n.slice(0,i).concat(n.slice(i+1)))}else e.open_while_playing=r}}}),n("label",{attrs:{for:"open-while-playing"}},[e._v(" "+e._s(e.lang["Lobby open while playing"]))])]),n("table",{staticStyle:{"margin-bottom":"1ex"}},[n("tr",[n("td",[n("label",{attrs:{for:"initial-money"}},[e._v(e._s(e.lang["Initial money"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.initial_money,expression:"initial_money",modifiers:{number:!0}}],attrs:{type:"number",name:"initial-money",min:"1"},domProps:{value:e.initial_money},on:{change:e.update_lobby,input:function(t){t.target.composing||(e.initial_money=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"initial-jokers"}},[e._v(e._s(e.lang["Jokers"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.initial_jokers,expression:"initial_jokers",modifiers:{number:!0}}],attrs:{type:"number",name:"initial-jokers",min:"0"},domProps:{value:e.initial_jokers},on:{change:e.update_lobby,input:function(t){t.target.composing||(e.initial_jokers=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"normal-q-money"}},[e._v(e._s(e.lang["Normal question reward"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.normal_q_money,expression:"normal_q_money",modifiers:{number:!0}}],attrs:{type:"number",name:"normal-q-money",min:"1"},domProps:{value:e.normal_q_money},on:{change:e.update_lobby,input:function(t){t.target.composing||(e.normal_q_money=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"estimation-q-money"}},[e._v(e._s(e.lang["Estimation question reward"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.estimation_q_money,expression:"estimation_q_money",modifiers:{number:!0}}],attrs:{type:"number",name:"estimation-q-money",min:"1"},domProps:{value:e.estimation_q_money},on:{change:e.update_lobby,input:function(t){t.target.composing||(e.estimation_q_money=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])]),n("div",{staticStyle:{"margin-bottom":"1em"}},[n("label",{attrs:{for:"question-set"}},[e._v(e._s(e.lang["Question set"])+": ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.question_set,expression:"question_set"}],attrs:{name:"question-set"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.question_set=t.target.multiple?n:n[0]},e.update_lobby]}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.lang["Select one"]))]),e._l(e.question_sets,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),n("option",{attrs:{value:"custom"}},[e._v(e._s(e.lang["Custom"]))])],2),"custom"==e.question_set?[n("br"),n("a",{attrs:{href:"questions-example.json"}},[e._v(e._s(e.lang["Download example"]))]),n("br"),n("label",{attrs:{for:"question-file-selector"}},[e._v(e._s(e.lang["Select file"])+": ")]),n("input",{attrs:{type:"file",name:"question-file-selector",id:"question-file-selector",accept:"application/json,.json"},on:{change:e.load_questions}}),e.error?[n("br"),n("span",{staticClass:"error"},[e._v(e._s(e.error_msg))])]:e.success?[n("br"),n("span",{staticClass:"success"},[e._v(e._s(e.success_msg))])]:e._e()]:e._e()],2),n("button",{attrs:{type:"button",id:"start",disabled:e.start_disabled},on:{click:e.start_game}},[e.out_of_sync?n("span",{staticClass:"material-icons mirrored spinning"},[e._v("sync")]):n("span",[e._v(e._s(e.lang["Start game"]))])])]:[n("div",{staticStyle:{"margin-bottom":"1ex"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sync_params.lobby_open,expression:"sync_params.lobby_open"}],staticClass:"checkbox",attrs:{type:"checkbox",name:"lobby-open",disabled:""},domProps:{checked:Array.isArray(e.sync_params.lobby_open)?e._i(e.sync_params.lobby_open,null)>-1:e.sync_params.lobby_open},on:{change:function(t){var n=e.sync_params.lobby_open,s=t.target,r=!!s.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);s.checked?i<0&&e.$set(e.sync_params,"lobby_open",n.concat([a])):i>-1&&e.$set(e.sync_params,"lobby_open",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.sync_params,"lobby_open",r)}}}),n("label",{attrs:{for:"lobby-open"}},[e._v(" "+e._s(e.lang["Lobby open for new players"]))])]),n("table",{staticStyle:{"margin-bottom":"1ex"}},[n("tr",[n("td",[n("label",{attrs:{for:"initial-money"}},[e._v(e._s(e.lang["Initial money"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.sync_params.initial_money,expression:"sync_params.initial_money",modifiers:{number:!0}}],attrs:{type:"number",name:"initial-money",disabled:""},domProps:{value:e.sync_params.initial_money},on:{input:function(t){t.target.composing||e.$set(e.sync_params,"initial_money",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"initial-jokers"}},[e._v(e._s(e.lang["Jokers"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.sync_params.initial_jokers,expression:"sync_params.initial_jokers",modifiers:{number:!0}}],attrs:{type:"number",name:"initial-jokers",disabled:""},domProps:{value:e.sync_params.initial_jokers},on:{input:function(t){t.target.composing||e.$set(e.sync_params,"initial_jokers",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"normal-q-money"}},[e._v(e._s(e.lang["Normal question reward"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.sync_params.normal_q_money,expression:"sync_params.normal_q_money",modifiers:{number:!0}}],attrs:{type:"number",name:"normal-q-money",disabled:""},domProps:{value:e.sync_params.normal_q_money},on:{input:function(t){t.target.composing||e.$set(e.sync_params,"normal_q_money",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("tr",[n("td",[n("label",{attrs:{for:"estimation-q-money"}},[e._v(e._s(e.lang["Estimation question reward"])+": ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.sync_params.estimation_q_money,expression:"sync_params.estimation_q_money",modifiers:{number:!0}}],attrs:{type:"number",name:"estimation-q-money",disabled:""},domProps:{value:e.sync_params.estimation_q_money},on:{input:function(t){t.target.composing||e.$set(e.sync_params,"estimation_q_money",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])]),n("div",{staticStyle:{"margin-bottom":"1em"}},[n("label",{attrs:{for:"question-set"}},[e._v(e._s(e.lang["Question set"])+": ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.sync_params.question_set,expression:"sync_params.question_set"}],attrs:{name:"question-set",disabled:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.sync_params,"question_set",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.lang["Select one"]))]),e._l(e.question_sets,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),n("option",{attrs:{value:"custom"}},[e._v(e._s(e.lang["Custom"]))])],2)]),n("button",{attrs:{type:"button",id:"start",disabled:""}},[n("span",[e._v(e._s(e.lang["Start game"]))])])]],2)},H=[],X={name:"LobbyMenu",props:["lang","admin","lobby_id","question_sets","sync_params"],data:function(){return{invite_link:window.location.href,lobby_open:!0,admin_plays:!0,open_while_playing:!0,initial_money:500,initial_jokers:3,normal_q_money:500,estimation_q_money:1e3,question_set:"",error:!1,error_msg:"",success:!1,success_msg:"",wait_for_server_start:!1}},computed:{out_of_sync:function(){return Boolean(this.sync_params.lobby_open)!=Boolean(this.lobby_open)||Number(this.sync_params.initial_money)!=Number(this.initial_money)||Number(this.sync_params.initial_jokers)!=Number(this.initial_jokers)||Number(this.sync_params.normal_q_money)!=Number(this.normal_q_money)||Number(this.sync_params.estimation_q_money)!=Number(this.estimation_q_money)||this.sync_params.question_set!=this.question_set},start_disabled:function(){return""==this.question_set||this.out_of_sync||this.wait_for_server_start}},methods:{copy_invite_link:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(this.invite_link);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),update_lobby:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.update_lobby(this.lobby_id,this.lobby_open,this.initial_money,this.initial_jokers,this.normal_q_money,this.estimation_q_money,this.question_set);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),load_questions:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.target.files,s=n[0],s.size>51200?(this.success=!1,this.error_msg=this.lang["File is too large!"],this.error=!0):(r=new FileReader,r.addEventListener("load",function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{n=JSON.parse(t.target.result)}catch(s){a.success=!1,a.error_msg=a.lang["Invalid JSON!"],a.error=!0}return e.next=3,p.upload_custom_questions(a.lobby_id,n);case 3:if(!e.sent){e.next=9;break}a.error=!1,a.success_msg=a.lang["Questions uploaded!"],a.success=!0,e.next=12;break;case 9:a.success=!1,a.error_msg=a.lang["Upload error!"],a.error=!0;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.readAsText(s));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),start_game:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=this.question_set&&("custom"!=this.question_set||this.success)){e.next=3;break}return alert(this.lang["Load questions before you start the game!"]),e.abrupt("return");case 3:if(!this.out_of_sync){e.next=6;break}return alert(this.lang["Game settings out of sync, please wait!"]),e.abrupt("return");case 6:if(this.lobby_open==this.open_while_playing){e.next=10;break}return this.lobby_open=this.open_while_playing,e.next=10,this.update_lobby();case 10:this.wait_for_server_start=!0,this.$emit("start-game",this.admin_plays),setTimeout((function(e){e.wait_for_server_start=!1}),2e3,this);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this;document.getElementById("invite-link").focus(),setTimeout((function(){e.lobby_open=Boolean(e.sync_params.lobby_open),e.initial_money=Number(e.sync_params.initial_money),e.initial_jokers=Number(e.sync_params.initial_jokers),e.normal_q_money=Number(e.sync_params.normal_q_money),e.estimation_q_money=Number(e.sync_params.estimation_q_money),e.question_set=e.sync_params.question_set}),500)}},ee=X,te=(n("5bb0"),Object(f["a"])(ee,Z,H,!1,null,"b0d54864",null)),ne=te.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["Bet money for the question"]))]),n("p",{staticClass:"text-60"},[e._v(" "+e._s(e.lang["If you answer wrongly, you pay the bet money, otherwise you get the bet money!"])+" ")]),n("span",{staticClass:"yellow text-80"},[e._v(e._s(e.lang["Question category"])+": ")]),n("span",{staticClass:"text-70"},[e._v(e._s(e.question.category))]),n("br"),n("form",{on:{submit:function(t){return t.preventDefault(),e.bet(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.bet_value,expression:"bet_value",modifiers:{number:!0}}],attrs:{type:"number",id:"betting-input",placeholder:e.lang["<Amount>"],min:"1",max:e.max_bet,autofocus:"",disabled:e.watch_only},domProps:{value:e.bet_value},on:{input:function(t){t.target.composing||(e.bet_value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("input",{attrs:{type:"submit",disabled:e.watch_only||""==e.bet_value},domProps:{value:e.lang["Submit"]}})])])},re=[],ae={name:"QuestionCategoryBetting",props:["lang","watch_only","question","max_bet"],data:function(){return{bet_value:""}},methods:{bet:function(){this.watch_only||(""==this.bet_value?alert(this.lang["You must bet money!"]):this.bet_value<1||this.bet_value>this.max_bet?alert(this.lang["Invalid bet! Must be > 1 and <= your money!"]):this.$emit("bet-money",this.bet_value))}},mounted:function(){document.getElementById("betting-input").focus()}},ie=ae,oe=(n("49de"),Object(f["a"])(ie,se,re,!1,null,"4b45faf8",null)),ue=oe.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["Attack a fellow player"]))]),n("p",{staticClass:"text-60"},[e._v(" "+e._s(e.lang["If you answer correctly, your enemy's money is halved! But else it is doubled!"])+" ")]),n("span",{staticClass:"yellow text-80"},[e._v(e._s(e.lang["Question category"])+": ")]),n("span",{staticClass:"text-70"},[e._v(e._s(e.question.category))]),n("br"),n("form",{on:{submit:function(t){return t.preventDefault(),e.attack(t)}}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPlayer,expression:"selectedPlayer"}],attrs:{id:"attacking-select",autofocus:"",disabled:e.watch_only},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPlayer=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.lang["Select a player"]))]),e._l(e.players,(function(t){return[t.name!=e.self?n("option",{key:t.name,domProps:{value:t.name}},[e._v(e._s(t.name))]):e._e()]}))],2),n("input",{attrs:{type:"submit",disabled:e.watch_only||""==e.selectedPlayer},domProps:{value:e.lang["Submit"]}})])])},le=[],me={name:"QuestionVsAttacker",props:["lang","watch_only","question","players","self"],data:function(){return{selectedPlayer:""}},methods:{attack:function(){""==this.selectedPlayer?alert(this.lang["You must select a player!"]):this.$emit("attack-player",this.selectedPlayer)}},mounted:function(){document.getElementById("attacking-select").focus()}},de=me,pe=(n("b08e"),Object(f["a"])(de,ce,le,!1,null,"31d259da",null)),_e=pe.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},["BettingQuestion"==e.question.type||"NormalQuestion"==e.question.type?n("div",{staticClass:"joker",attrs:{disabled:!e.jokerAvailable||e.usedJoker||e.watch_only},on:{click:e.jokerClick}},[e._v(" 50:50 ")]):e._e(),n("table",{staticClass:"question-design"},[n("tr",[n("td",{staticClass:"quizElement",attrs:{colspan:"2"}},[e._v(e._s(e.question.question))])]),n("tr"),n("tr",[n("td",{staticClass:"quizElement answer",class:[e.quizAnsClasses[0],e.computedQuizAnsClasses[0]],on:{mouseover:function(t){return e.qE_mouseOver(0)},mouseout:function(t){return e.qE_mouseOut(0)},click:function(t){return e.qE_click(0)}}},[e._v("a) "+e._s(e.question.answers[0]))]),n("td",{staticClass:"quizElement answer",class:[e.quizAnsClasses[1],e.computedQuizAnsClasses[1]],on:{mouseover:function(t){return e.qE_mouseOver(1)},mouseout:function(t){return e.qE_mouseOut(1)},click:function(t){return e.qE_click(1)}}},[e._v("b) "+e._s(e.question.answers[1]))])]),n("tr",[n("td",{staticClass:"quizElement answer",class:[e.quizAnsClasses[2],e.computedQuizAnsClasses[2]],on:{mouseover:function(t){return e.qE_mouseOver(2)},mouseout:function(t){return e.qE_mouseOut(2)},click:function(t){return e.qE_click(2)}}},[e._v("c) "+e._s(e.question.answers[2]))]),n("td",{staticClass:"quizElement answer",class:[e.quizAnsClasses[3],e.computedQuizAnsClasses[3]],on:{mouseover:function(t){return e.qE_mouseOver(3)},mouseout:function(t){return e.qE_mouseOut(3)},click:function(t){return e.qE_click(3)}}},[e._v("d) "+e._s(e.question.answers[3]))])])])])},ye=[],he=(n("caad"),n("2532"),{name:"QuestionAsker",props:["lang","watch_only","question","jokerAvailable"],data:function(){return{quizAnsClasses:[{mouseover:!1,clicked:!1},{mouseover:!1,clicked:!1},{mouseover:!1,clicked:!1},{mouseover:!1,clicked:!1}],answerSelected:!1,usedJoker:!1}},computed:{computedQuizAnsClasses:function(){var e,t=[{wrong:!1},{wrong:!1},{wrong:!1},{wrong:!1}],n=Object(i["a"])(this.question.wrong_answers);try{for(n.s();!(e=n.n()).done;){var s=e.value;t[s-1]["wrong"]=!0}}catch(r){n.e(r)}finally{n.f()}return t}},methods:{qE_mouseOver:function(e){this.answerSelected||this.watch_only||(this.quizAnsClasses[e]["mouseover"]=!0)},qE_mouseOut:function(e){this.answerSelected||this.watch_only||(this.quizAnsClasses[e]["mouseover"]=!1)},qE_click:function(e){if(!this.answerSelected&&!this.watch_only&&!this.question.wrong_answers.includes(e+1)){for(var t=0;t<4;t++)this.quizAnsClasses[t]["mouseover"]=!1,this.quizAnsClasses[t]["clicked"]=!1;this.quizAnsClasses[e]["clicked"]=!0,this.answerSelected=!0,this.$emit("answered",e+1)}},jokerClick:function(){!this.jokerAvailable||this.usedJoker||this.watch_only||(this.usedJoker=!0,this.$emit("joker"))}}}),fe=he,ge=(n("daae"),Object(f["a"])(fe,be,ye,!1,null,"7073ef22",null)),ve=ge.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("div",{staticClass:"quizElement",staticStyle:{"margin-bottom":"1ex"}},[e._v(e._s(e.question.question))]),n("span",[e._v(e._s(e.lang["Enter your estimation"])+": ")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.estimate(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.estimation,expression:"estimation",modifiers:{number:!0}}],attrs:{type:"number",id:"estimator-input",placeholder:e.lang["<Estimation>"],min:"1",autofocus:""},domProps:{value:e.estimation},on:{input:function(t){t.target.composing||(e.estimation=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("br"),n("input",{attrs:{type:"submit",disabled:e.watch_only||""==e.estimation},domProps:{value:e.lang["Submit"]}})])])},ke=[],xe={name:"QuestionEstimator",props:["lang","watch_only","question"],data:function(){return{estimation:""}},methods:{estimate:function(){""==this.estimation?alert(this.lang["Enter your estimation first!"]):this.estimation<1?alert(this.lang["Estimation must be at least 1!"]):this.$emit("answered",this.estimation)}},mounted:function(){document.getElementById("estimator-input").focus()}},qe=xe,Ce=(n("1e68"),Object(f["a"])(qe,we,ke,!1,null,"6ed1c74e",null)),je=Ce.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"compWindow",staticStyle:{padding:"1ex 1em"}},[n("span",{staticClass:"yellow"},[e._v(e._s(e.lang["The Players' Answers"]))]),n("table",{staticClass:"nameList"},e._l(e.playersPrev,(function(t,s){return n("tr",{key:t.name},[n("td",[n("span",{class:{yellow:t.name==e.self}},[e._v(e._s(t.name))])]),"BettingQuestion"==e.question.type?[n("td",[e._v(e._s(e.lang["bets"]))]),n("td",[e._v(e._s(e.showBetsOrVersus?0!=t.money_bet?t.money_bet+" ‚Ç¨":e.lang["None"]:"???"))]),n("td",[e._v(e._s(e.lang["and assumes it is"]))])]:"VersusQuestion"==e.question.type?[n("td",[e._v(e._s(e.lang["attacks;results-vs"]))]),n("td",[e._v(e._s(e.showBetsOrVersus?""!=t.vs_player?t.vs_player:e.lang["Nobody"]:"???"))]),n("td",[e._v(e._s(e.lang["and assumes it is;results-vs"]))])]:"NormalQuestion"==e.question.type?[n("td",[e._v(e._s(e.lang["assumes it is"]))])]:[n("td",[e._v(e._s(e.lang["says"]))])],"EstimationQuestion"==e.question.type?[n("td",[e._v(e._s(e.showAnswers?0!=t.answer?t.answer:e.lang["Nothing"]:"???"))])]:[n("td",[e._v(e._s(e.showAnswers?e.answerChar[t.answer]:"?)"))])],e.showCorrectAnswer?[e._m(0,!0),n("td",[e._v(e._s((e.playersNew[s].money>t.money?"+":"")+(e.playersNew[s].money-t.money).toString())+" ‚Ç¨")])]:e._e()],2)})),0)]),n("div",{staticClass:"compWindow"},[n("table",{staticClass:"question-design"},[n("tr",[n("td",{staticClass:"quizElement",attrs:{colspan:"2"}},[e._v(e._s(e.question.question))])]),n("tr"),"EstimationQuestion"!=e.question.type?[n("tr",[n("td",{staticClass:"quizElement answer",class:e.quizAnsClasses[0]},[e._v("a) "+e._s(e.question.answers[0]))]),n("td",{staticClass:"quizElement answer",class:e.quizAnsClasses[1]},[e._v("b) "+e._s(e.question.answers[1]))])]),n("tr",[n("td",{staticClass:"quizElement answer",class:e.quizAnsClasses[2]},[e._v("c) "+e._s(e.question.answers[2]))]),n("td",{staticClass:"quizElement answer",class:e.quizAnsClasses[3]},[e._v("d) "+e._s(e.question.answers[3]))])])]:[n("tr",[n("td",{staticStyle:{"font-size":"large"},attrs:{colspan:"2"}},[e._v(e._s(e.lang["Correct answer"])+": "+e._s(e.showCorrectAnswer?e.question.correct_answer:"???"))])])]],2)])])},Se=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("span",{staticClass:"material-icons icon"},[e._v("arrow_right_alt")])])}],Ee={name:"ResultDisplay",props:["lang","question","playersPrev","playersNew","self"],data:function(){return{quizAnsClasses:[{correct:!1,clicked:!1},{correct:!1,clicked:!1},{correct:!1,clicked:!1},{correct:!1,clicked:!1}],showBetsOrVersus:!1,showAnswers:!1,showCorrectAnswer:!1,timeouts:[]}},computed:{answerChar:function(){return[this.lang["Nothing"],"a)","b)","c)","d)"]}},methods:{revealBets:function(){this.showBetsOrVersus=!0},revealAnswers:function(){if(this.showAnswers=!0,"EstimationQuestion"!=this.question.type){var e,t=Object(i["a"])(this.playersPrev);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.name==this.self&&0!=n.answer&&(this.quizAnsClasses[n.answer-1]["clicked"]=!0)}}catch(s){t.e(s)}finally{t.f()}}},revealCorrectAnswer:function(){this.showCorrectAnswer=!0,"EstimationQuestion"!=this.question.type&&(this.quizAnsClasses[this.question.correct_answer-1]["correct"]=!0)},removeTimeouts:function(){var e,t=Object(i["a"])(this.timeouts);try{for(t.s();!(e=t.n()).done;){var n=e.value;clearTimeout(n)}}catch(s){t.e(s)}finally{t.f()}this.timeouts=[]}},mounted:function(){this.timeouts.push(setTimeout((function(e){e.revealBets()}),3e3,this)),this.timeouts.push(setTimeout((function(e){e.revealAnswers()}),8e3,this)),this.timeouts.push(setTimeout((function(e){e.revealCorrectAnswer()}),15e3,this))},beforeUnmount:function(){this.removeTimeouts()}},Ne=Ee,Oe=(n("7765"),Object(f["a"])(Ne,Ae,Se,!1,null,"80418170",null)),Re=Oe.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compWindow"},[n("span",{staticClass:"yellow"},[e._v("Ergebnisse")]),n("table",{staticClass:"nameList"},e._l(e.sortedPlayers,(function(t,s){return n("tr",{key:t.name},[n("td",[e._v(e._s(s+1)+". "),n("span",{class:{yellow:t.name==e.self}},[e._v(e._s(t.name))])]),n("td",[e._v("-")]),n("td",[e._v(e._s(t.money)+" ‚Ç¨")])])})),0)])},Pe=[],Le=(n("a630"),n("3ca3"),{name:"GameEndScreen",props:["lang","players","self"],computed:{sortedPlayers:function(){var e=Array.from(this.players);return e.sort((function(e,t){return t.money-e.money})),e}}}),Ie=Le,We=(n("b4f4"),Object(f["a"])(Ie,Be,Pe,!1,null,"85b356b4",null)),Te=We.exports,ze={name:"Gameshow",components:{LanguageSelector:v,CookieConsent:j,PlayerList:R,NextButton:T,LoginWindow:J,LobbySelection:K,LobbyMenu:ne,QuestionCategoryBetting:ue,QuestionVsAttacker:_e,QuestionAsker:ve,QuestionEstimator:je,ResultDisplay:Re,GameEndScreen:Te},data:function(){return{lang:c.en,question_sets:[],consent:!1,selectedWindow:"loading",nickname:"",lobby:"",joined:!1,admin:"",admin_plays:!0,money:1,jokers:0,players:[],current_question:{id:0,type:"",category:"",question:"",answers:[],correct_answer:0,wrong_answers:[]},results_players_prev:[],results_players_new:[],animation_in_progress:!1,players_cached:[],event_stream:null,last_event_id:-1,event_queue:[],lobby_selection_params:{not_found:!1,closed:!1},lobby_menu_params:{lobby_open:!0,initial_money:"500",initial_jokers:"3",normal_q_money:"500",estimation_q_money:"1000",question_set:""}}},computed:{watch_only:function(){return this.admin==this.nickname&&!this.admin_plays||!this.joined}},methods:{switchLanguage:function(e){switch(e){case"de":return this.lang=c.de,p.lang=c.de,!0;case"en":return this.lang=c.en,p.lang=c.en,!0;default:return!1}},got_consent:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.consent=!0,e.next=3,p.get_name();case 3:if(t=e.sent,""==t){e.next=17;break}if(this.nickname=t,n=u.extract_lobby_id(),""==n){e.next=14;break}return e.next=10,this.join_lobby(n);case 10:if(e.sent){e.next=12;break}this.selectedWindow="lobby-selection";case 12:e.next=15;break;case 14:this.selectedWindow="lobby-selection";case 15:e.next=18;break;case 17:this.selectedWindow="login-window";case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),set_name:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.consent){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.set_name(t);case 4:if(n=e.sent,""==n){e.next=16;break}if(this.nickname=n,s=u.extract_lobby_id(),""==s){e.next=15;break}return e.next=11,this.join_lobby(s);case 11:if(e.sent){e.next=13;break}this.selectedWindow="lobby-selection";case 13:e.next=16;break;case 15:this.selectedWindow="lobby-selection";case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),create_lobby:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.consent){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.create_lobby();case 4:if(t=e.sent,t.valid){e.next=7;break}return e.abrupt("return");case 7:return n=t.lobby_id,this.lobby=n,this.admin=t.admin,e.next=12,p.join_lobby(n);case 12:if(t=e.sent,this.lobby_selection_params.not_found=t.not_found,this.lobby_selection_params.closed=t.closed,t.valid){e.next=17;break}return e.abrupt("return");case 17:return this.admin=t.admin,this.nickname=t.new_name,this.joined=!0,this.selectedWindow="lobby-menu",e.next=23,this.setup_event_listener();case 23:window.history.pushState("lobby","Gameshow Lobby","#"+n);case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),join_lobby:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.consent){e.next=2;break}return e.abrupt("return",!1);case 2:if(""!=t){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,p.join_lobby(t);case 6:if(n=e.sent,this.lobby_selection_params.not_found=n.not_found,this.lobby_selection_params.closed=n.closed,n.valid){e.next=11;break}return e.abrupt("return",!1);case 11:return this.lobby=t,this.admin=n.admin,this.nickname=n.new_name,this.joined=!0,this.selectedWindow="lobby-menu",e.next=18,this.setup_event_listener();case 18:return window.history.pushState("lobby","Gameshow Lobby","#"+t),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),setup_event_listener:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.get_event_stream(this.lobby);case 2:return this.event_stream=e.sent,this.event_stream.addEventListener("ping",(function(){t.handle_event_queue()})),this.event_stream.addEventListener("game_event",(function(e){t.handle_new_event(JSON.parse(e.data))})),e.next=7,p.get_events(this.lobby);case 7:this.event_queue=e.sent,this.handle_event_queue();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),admin_left:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.admin_plays=!1,this.joined=!1;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),start_game:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.admin_plays=t,this.admin!=this.nickname){e.next=13;break}if(t||!this.joined){e.next=8;break}return e.next=5,p.leave_lobby(this.lobby);case 5:this.joined=!1,e.next=13;break;case 8:if(!t||this.joined){e.next=13;break}return e.next=11,p.join_lobby(this.lobby);case 11:n=e.sent,n.valid?(this.admin=n.admin,this.nickname=n.new_name,this.joined=!0):t=!1;case 13:return s=this.selectedWindow,this.waitForPlayers(),e.next=17,p.next_state(this.lobby);case 17:if(e.sent){e.next=19;break}this.selectedWindow=s;case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),bet_money:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.selectedWindow,this.waitForPlayers(),e.next=4,p.bet_money(this.lobby,t);case 4:if(e.sent){e.next=6;break}this.selectedWindow=n;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),attack_player:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.selectedWindow,this.waitForPlayers(),e.next=4,p.attack_player(this.lobby,t);case 4:if(e.sent){e.next=6;break}this.selectedWindow=n;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),select_answer:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.selectedWindow,this.waitForPlayers(),e.next=4,p.answer_question(this.lobby,t);case 4:if(e.sent){e.next=6;break}this.selectedWindow=n;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),get_joker:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.get_joker(this.lobby);case 2:this.current_question.wrong_answers=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),waitForPlayers:function(){this.selectedWindow=""},finishedAnimation:function(){this.animation_in_progress&&(this.animation_in_progress=!1,this.players=this.players_cached)},handle_event_queue:function(){var e=this;this.event_queue.sort((function(e,t){return e.id-t.id})),this.event_queue.filter((function(t){return!(t.id<=e.last_event_id)&&(t.id!=e.last_event_id+1||(e.handle_event(t),!1))}))},handle_new_event:function(e){this.handle_event_queue(),e.id>this.last_event_id+1?this.event_queue.push(e):e.id==this.last_event_id+1&&this.handle_event(e)},handle_event:function(e){switch(e.event_name){case"BeginNormalQAnswering":this.eventBeginNormalQAnswering(e.event[e.event_name]);break;case"BeginBettingQBetting":this.eventBeginBettingQBetting(e.event[e.event_name]);break;case"BeginBettingQAnswering":this.eventBeginBettingQAnswering(e.event[e.event_name]);break;case"BeginEstimationQAnswering":this.eventBeginEstimationQAnswering(e.event[e.event_name]);break;case"BeginVersusQSelecting":this.eventBeginVersusQSelecting(e.event[e.event_name]);break;case"BeginVersusQAnswering":this.eventBeginVersusQAnswering(e.event[e.event_name]);break;case"ShowResults":this.eventShowResults(e.event[e.event_name]);break;case"GameEnding":this.eventGameEnding(e.event[e.event_name]);break;case"BackToMenu":this.eventBackToMenu(e.event[e.event_name]);break;case"PlayerListUpdate":this.eventPlayerListUpdate(e.event[e.event_name]);break;case"LobbySettingsUpdate":this.eventLobbySettingsUpdate(e.event[e.event_name]);break;default:console.log("Unknown event: "+e.event_name)}this.last_event_id=e.id},eventBeginNormalQAnswering:function(e){this.finishedAnimation(),this.current_question.id=e.current_question,this.current_question.type=e.question_type,this.current_question.category=e.category,this.current_question.question=e.question,this.current_question.answers=e.answers,this.current_question.correct_answer=0,this.current_question.wrong_answers=[],this.selectedWindow="question-asker"},eventBeginBettingQBetting:function(e){this.finishedAnimation(),this.current_question.id=e.current_question,this.current_question.type=e.question_type,this.current_question.category=e.category,this.current_question.question="",this.current_question.answers=[],this.current_question.correct_answer=0,this.current_question.wrong_answers=[],this.selectedWindow="question-category-betting"},eventBeginBettingQAnswering:function(e){this.current_question.question=e.question,this.current_question.answers=e.answers,this.selectedWindow="question-asker"},eventBeginEstimationQAnswering:function(e){this.finishedAnimation(),this.current_question.id=e.current_question,this.current_question.type=e.question_type,this.current_question.category=e.category,this.current_question.question=e.question,this.current_question.answers=[],this.current_question.correct_answer=0,this.current_question.wrong_answers=[],this.selectedWindow="question-estimator"},eventBeginVersusQSelecting:function(e){this.finishedAnimation(),this.current_question.id=e.current_question,this.current_question.type=e.question_type,this.current_question.category=e.category,this.current_question.question="",this.current_question.answers=[],this.current_question.correct_answer=0,this.current_question.wrong_answers=[],this.selectedWindow="question-vs-attacker"},eventBeginVersusQAnswering:function(e){this.current_question.question=e.question,this.current_question.answers=e.answers,this.selectedWindow="question-asker"},eventShowResults:function(e){this.current_question.correct_answer=e.correct_answer,this.results_players_prev=e.previous_player_data,this.results_players_new=e.player_data,this.animation_in_progress=!0,setTimeout((function(e){e.finishedAnimation()}),15e3,this),this.selectedWindow="result-display"},eventGameEnding:function(e){this.finishedAnimation(),this.current_question.type="",this.results_players_new=e.player_data,this.selectedWindow="game-end-screen"},eventBackToMenu:function(e){this.finishedAnimation(),this.current_question.type="",this.lobby_menu_params.open=e.open,this.selectedWindow="lobby-menu"},eventPlayerListUpdate:function(e){this.players_cached=e.player_data;var t,n=!1,s=Object(i["a"])(this.players_cached);try{for(s.s();!(t=s.n()).done;){var r=t.value;r.name==this.nickname&&(this.money=r.money,this.jokers=r.jokers,n=!0)}}catch(a){s.e(a)}finally{s.f()}this.joined=n,this.animation_in_progress||(this.players=this.players_cached)},eventLobbySettingsUpdate:function(e){this.lobby_menu_params={lobby_open:e.open,initial_money:e.initial_money,initial_jokers:e.initial_jokers,normal_q_money:e.normal_q_money,estimation_q_money:e.estimation_q_money,question_set:e.question_set}}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.get_question_sets();case 2:this.question_sets=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Qe=ze,$e=(n("99a6"),Object(f["a"])(Qe,r,a,!1,null,null,null)),Ue=$e.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(Ue)}}).$mount("#app")},"5bb0":function(e,t,n){"use strict";n("ed0f")},"5ca0":function(e,t,n){},7499:function(e,t,n){},7765:function(e,t,n){"use strict";n("d61e")},"8b56":function(e,t,n){"use strict";n("9c61")},9425:function(e,t,n){"use strict";n("07c0")},"99a6":function(e,t,n){"use strict";n("5ca0")},"9c61":function(e,t,n){},af1b:function(e,t,n){},b05a:function(e,t,n){"use strict";n("3561")},b08e:function(e,t,n){"use strict";n("5388")},b4f4:function(e,t,n){"use strict";n("07ae")},b95d:function(e,t,n){},d61e:function(e,t,n){},daae:function(e,t,n){"use strict";n("f66c")},ed0f:function(e,t,n){},ee19:function(e,t,n){},f66c:function(e,t,n){}});
//# sourceMappingURL=app-legacy.e1114aba.js.map